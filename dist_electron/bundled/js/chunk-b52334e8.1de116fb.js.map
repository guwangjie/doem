{"version":3,"sources":["webpack:///./node_modules/_core-js@3.6.4@core-js/internals/regexp-flags.js","webpack:///./node_modules/_core-js@3.6.4@core-js/internals/regexp-exec.js","webpack:///./src/views/service_manage/service_desktop/service_desktop_index.vue?86ac","webpack:///./node_modules/_core-js@3.6.4@core-js/internals/string-multibyte.js","webpack:///./node_modules/_core-js@3.6.4@core-js/modules/es.string.split.js","webpack:///./node_modules/_core-js@3.6.4@core-js/modules/es.array.reverse.js","webpack:///./node_modules/_core-js@3.6.4@core-js/internals/advance-string-index.js","webpack:///./node_modules/_core-js@3.6.4@core-js/internals/regexp-exec-abstract.js","webpack:///./node_modules/_core-js@3.6.4@core-js/modules/es.regexp.exec.js","webpack:///./node_modules/_core-js@3.6.4@core-js/modules/es.string.replace.js","webpack:///./node_modules/_core-js@3.6.4@core-js/internals/regexp-sticky-helpers.js","webpack:///./node_modules/_core-js@3.6.4@core-js/internals/fix-regexp-well-known-symbol-logic.js","webpack:///./src/views/service_manage/service_desktop/service_desktop_index.vue?57df","webpack:///./src/mixins/index.js","webpack:///./src/api/service_manage/service_desktop.js","webpack:///src/views/service_manage/service_desktop/service_desktop_index.vue","webpack:///./src/views/service_manage/service_desktop/service_desktop_index.vue?f275","webpack:///./src/views/service_manage/service_desktop/service_desktop_index.vue"],"names":["anObject","module","exports","that","this","result","global","ignoreCase","multiline","dotAll","unicode","sticky","regexpFlags","stickyHelpers","nativeExec","RegExp","prototype","exec","nativeReplace","String","replace","patchedExec","UPDATES_LAST_INDEX_WRONG","re1","re2","call","lastIndex","UNSUPPORTED_Y","BROKEN_CARET","NPCG_INCLUDED","undefined","PATCH","str","reCopy","match","i","re","flags","source","charsAdded","strCopy","indexOf","slice","input","index","length","arguments","toInteger","requireObjectCoercible","createMethod","CONVERT_TO_STRING","$this","pos","first","second","S","position","size","charCodeAt","charAt","codeAt","fixRegExpWellKnownSymbolLogic","isRegExp","speciesConstructor","advanceStringIndex","toLength","callRegExpExec","regexpExec","fails","arrayPush","push","min","Math","MAX_UINT32","SUPPORTS_Y","SPLIT","nativeSplit","maybeCallNative","internalSplit","split","separator","limit","string","lim","lastLength","output","lastLastIndex","separatorCopy","apply","test","O","splitter","regexp","res","done","value","rx","C","unicodeMatching","p","q","A","e","z","$","isArray","nativeReverse","reverse","target","proto","forced","classof","R","TypeError","toObject","regExpExec","max","floor","SUBSTITUTION_SYMBOLS","SUBSTITUTION_SYMBOLS_NO_NAMED","maybeToString","it","REPLACE","reason","REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE","REPLACE_KEEPS_$0","UNSAFE_SUBSTITUTE","searchValue","replaceValue","replacer","functionalReplace","fullUnicode","results","matchStr","accumulatedResult","nextSourcePosition","matched","captures","j","namedCaptures","groups","replacerArgs","concat","replacement","getSubstitution","tailPos","m","symbols","ch","capture","n","f","RE","s","redefine","wellKnownSymbol","createNonEnumerableProperty","SPECIES","REPLACE_SUPPORTS_NAMED_GROUPS","a","SPLIT_WORKS_WITH_OVERWRITTEN_EXEC","originalExec","KEY","sham","SYMBOL","DELEGATES_TO_SYMBOL","DELEGATES_TO_EXEC","execCalled","constructor","nativeRegExpMethod","methods","nativeMethod","arg2","forceStringMethod","stringMethod","regexMethod","arg","render","_vm","_h","$createElement","_c","_self","staticClass","on","$event","handleClickCloseDialog","attrs","patchDialog","model","callback","$$v","patch_service_id","expression","_l","item","key","label","slot","nativeOn","_v","handleClickPatchServiceConfirm","class","visitor_tab_index","handleClickVisitorTabItem","directives","name","rawName","visitor_status","id","currentChatVisitor","handleClickshowChatDialog","portrait","message_count","_s","_e","nickname","visit_origin_text","temp_text","currentHistoryVisitor","handleClickshowHistoryDialog","Object","keys","handleClickPatchChat","handleClickCloseChat","ref","transformToDate","time","identity","type","domProps","content","avatar","img","handleInsertEmoji","handleShowEmoji","handleOpenImageUploadDialog","handleKeyDown","handlekeyUp","handleEditorClick","handleSubmit","create_time","record_content","used_tab_index","handleClickChangeUseTab","staticRenderFns","PUBLIC","data","date","h","getHours","minute","getMinutes","getSeconds","replacepos","text","start","stop","replacetext","mystr","substring","serviceDesktopIndexBindClientId","request","url","method","serviceDesktopIndexGetVisitorInfo","serviceDesktopIndexAddServiceRecord","serviceDesktopIndexCloseChat","getEmoji","handleUploadChatImage","form_data","headers","serviceDesktopIndexGetRecordForWeek","serviceDesktopIndexGetOnlineServiceList","serviceDesktopIndexPatchToVisitor","List","ws","visitor_list","show_emoji","emojis","lastEditRange","online_service_list","history_list","mixins","computed","initWebSocket","WebSocket","$config","webSocket_Base_Url","onopen","$message","message","onmessage","evt","JSON","parse","is_JSON","client_id","flag","temp_visitor","forEach","element","user_id","$set","splice","unshift","visit_origin","Notification","temp_offline_visitor","one_message","cur_time","Date","timestamp","getTime","show_time","chatDialogScrollToBottom","visitor_id","onclose","then","ele","$refs","editor","$nextTick","scroll_chat","scrollTop","scrollHeight","selection","getRangeAt","event","keyCode","shiftKey","preventDefault","ctrlKey","clipboard","writeText","readText","edit","focus","removeAllRanges","addRange","range","collapsed","anchorNode","nodeName","childNodes","innerText","trim","innerHTML","appendChild","textNode","selectNodeContents","setStart","collapse","document","execCommand","send","ipcRenderer","properties","filters","once","filePaths","fs","readFile","err","formdata","append","file","component"],"mappings":"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","file":"js/chunk-b52334e8.1de116fb.js","sourcesContent":["'use strict';\nvar anObject = require('../internals/an-object');\n\n// `RegExp.prototype.flags` getter implementation\n// https://tc39.github.io/ecma262/#sec-get-regexp.prototype.flags\nmodule.exports = function () {\n  var that = anObject(this);\n  var result = '';\n  if (that.global) result += 'g';\n  if (that.ignoreCase) result += 'i';\n  if (that.multiline) result += 'm';\n  if (that.dotAll) result += 's';\n  if (that.unicode) result += 'u';\n  if (that.sticky) result += 'y';\n  return result;\n};\n","'use strict';\nvar regexpFlags = require('./regexp-flags');\nvar stickyHelpers = require('./regexp-sticky-helpers');\n\nvar nativeExec = RegExp.prototype.exec;\n// This always refers to the native implementation, because the\n// String#replace polyfill uses ./fix-regexp-well-known-symbol-logic.js,\n// which loads this file before patching the method.\nvar nativeReplace = String.prototype.replace;\n\nvar patchedExec = nativeExec;\n\nvar UPDATES_LAST_INDEX_WRONG = (function () {\n  var re1 = /a/;\n  var re2 = /b*/g;\n  nativeExec.call(re1, 'a');\n  nativeExec.call(re2, 'a');\n  return re1.lastIndex !== 0 || re2.lastIndex !== 0;\n})();\n\nvar UNSUPPORTED_Y = stickyHelpers.UNSUPPORTED_Y || stickyHelpers.BROKEN_CARET;\n\n// nonparticipating capturing group, copied from es5-shim's String#split patch.\nvar NPCG_INCLUDED = /()??/.exec('')[1] !== undefined;\n\nvar PATCH = UPDATES_LAST_INDEX_WRONG || NPCG_INCLUDED || UNSUPPORTED_Y;\n\nif (PATCH) {\n  patchedExec = function exec(str) {\n    var re = this;\n    var lastIndex, reCopy, match, i;\n    var sticky = UNSUPPORTED_Y && re.sticky;\n    var flags = regexpFlags.call(re);\n    var source = re.source;\n    var charsAdded = 0;\n    var strCopy = str;\n\n    if (sticky) {\n      flags = flags.replace('y', '');\n      if (flags.indexOf('g') === -1) {\n        flags += 'g';\n      }\n\n      strCopy = String(str).slice(re.lastIndex);\n      // Support anchored sticky behavior.\n      if (re.lastIndex > 0 && (!re.multiline || re.multiline && str[re.lastIndex - 1] !== '\\n')) {\n        source = '(?: ' + source + ')';\n        strCopy = ' ' + strCopy;\n        charsAdded++;\n      }\n      // ^(? + rx + ) is needed, in combination with some str slicing, to\n      // simulate the 'y' flag.\n      reCopy = new RegExp('^(?:' + source + ')', flags);\n    }\n\n    if (NPCG_INCLUDED) {\n      reCopy = new RegExp('^' + source + '$(?!\\\\s)', flags);\n    }\n    if (UPDATES_LAST_INDEX_WRONG) lastIndex = re.lastIndex;\n\n    match = nativeExec.call(sticky ? reCopy : re, strCopy);\n\n    if (sticky) {\n      if (match) {\n        match.input = match.input.slice(charsAdded);\n        match[0] = match[0].slice(charsAdded);\n        match.index = re.lastIndex;\n        re.lastIndex += match[0].length;\n      } else re.lastIndex = 0;\n    } else if (UPDATES_LAST_INDEX_WRONG && match) {\n      re.lastIndex = re.global ? match.index + match[0].length : lastIndex;\n    }\n    if (NPCG_INCLUDED && match && match.length > 1) {\n      // Fix browsers whose `exec` methods don't consistently return `undefined`\n      // for NPCG, like IE8. NOTE: This doesn' work for /(.?)?/\n      nativeReplace.call(match[0], reCopy, function () {\n        for (i = 1; i < arguments.length - 2; i++) {\n          if (arguments[i] === undefined) match[i] = undefined;\n        }\n      });\n    }\n\n    return match;\n  };\n}\n\nmodule.exports = patchedExec;\n","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./service_desktop_index.vue?vue&type=style&index=0&id=75f43c3a&scoped=true&lang=less&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../../node_modules/_less-loader@5.0.0@less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./service_desktop_index.vue?vue&type=style&index=0&id=75f43c3a&scoped=true&lang=less&\"","var toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\n// `String.prototype.{ codePointAt, at }` methods implementation\nvar createMethod = function (CONVERT_TO_STRING) {\n  return function ($this, pos) {\n    var S = String(requireObjectCoercible($this));\n    var position = toInteger(pos);\n    var size = S.length;\n    var first, second;\n    if (position < 0 || position >= size) return CONVERT_TO_STRING ? '' : undefined;\n    first = S.charCodeAt(position);\n    return first < 0xD800 || first > 0xDBFF || position + 1 === size\n      || (second = S.charCodeAt(position + 1)) < 0xDC00 || second > 0xDFFF\n        ? CONVERT_TO_STRING ? S.charAt(position) : first\n        : CONVERT_TO_STRING ? S.slice(position, position + 2) : (first - 0xD800 << 10) + (second - 0xDC00) + 0x10000;\n  };\n};\n\nmodule.exports = {\n  // `String.prototype.codePointAt` method\n  // https://tc39.github.io/ecma262/#sec-string.prototype.codepointat\n  codeAt: createMethod(false),\n  // `String.prototype.at` method\n  // https://github.com/mathiasbynens/String.prototype.at\n  charAt: createMethod(true)\n};\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar isRegExp = require('../internals/is-regexp');\nvar anObject = require('../internals/an-object');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar speciesConstructor = require('../internals/species-constructor');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar toLength = require('../internals/to-length');\nvar callRegExpExec = require('../internals/regexp-exec-abstract');\nvar regexpExec = require('../internals/regexp-exec');\nvar fails = require('../internals/fails');\n\nvar arrayPush = [].push;\nvar min = Math.min;\nvar MAX_UINT32 = 0xFFFFFFFF;\n\n// babel-minify transpiles RegExp('x', 'y') -> /x/y and it causes SyntaxError\nvar SUPPORTS_Y = !fails(function () { return !RegExp(MAX_UINT32, 'y'); });\n\n// @@split logic\nfixRegExpWellKnownSymbolLogic('split', 2, function (SPLIT, nativeSplit, maybeCallNative) {\n  var internalSplit;\n  if (\n    'abbc'.split(/(b)*/)[1] == 'c' ||\n    'test'.split(/(?:)/, -1).length != 4 ||\n    'ab'.split(/(?:ab)*/).length != 2 ||\n    '.'.split(/(.?)(.?)/).length != 4 ||\n    '.'.split(/()()/).length > 1 ||\n    ''.split(/.?/).length\n  ) {\n    // based on es5-shim implementation, need to rework it\n    internalSplit = function (separator, limit) {\n      var string = String(requireObjectCoercible(this));\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (separator === undefined) return [string];\n      // If `separator` is not a regex, use native split\n      if (!isRegExp(separator)) {\n        return nativeSplit.call(string, separator, lim);\n      }\n      var output = [];\n      var flags = (separator.ignoreCase ? 'i' : '') +\n                  (separator.multiline ? 'm' : '') +\n                  (separator.unicode ? 'u' : '') +\n                  (separator.sticky ? 'y' : '');\n      var lastLastIndex = 0;\n      // Make `global` and avoid `lastIndex` issues by working with a copy\n      var separatorCopy = new RegExp(separator.source, flags + 'g');\n      var match, lastIndex, lastLength;\n      while (match = regexpExec.call(separatorCopy, string)) {\n        lastIndex = separatorCopy.lastIndex;\n        if (lastIndex > lastLastIndex) {\n          output.push(string.slice(lastLastIndex, match.index));\n          if (match.length > 1 && match.index < string.length) arrayPush.apply(output, match.slice(1));\n          lastLength = match[0].length;\n          lastLastIndex = lastIndex;\n          if (output.length >= lim) break;\n        }\n        if (separatorCopy.lastIndex === match.index) separatorCopy.lastIndex++; // Avoid an infinite loop\n      }\n      if (lastLastIndex === string.length) {\n        if (lastLength || !separatorCopy.test('')) output.push('');\n      } else output.push(string.slice(lastLastIndex));\n      return output.length > lim ? output.slice(0, lim) : output;\n    };\n  // Chakra, V8\n  } else if ('0'.split(undefined, 0).length) {\n    internalSplit = function (separator, limit) {\n      return separator === undefined && limit === 0 ? [] : nativeSplit.call(this, separator, limit);\n    };\n  } else internalSplit = nativeSplit;\n\n  return [\n    // `String.prototype.split` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.split\n    function split(separator, limit) {\n      var O = requireObjectCoercible(this);\n      var splitter = separator == undefined ? undefined : separator[SPLIT];\n      return splitter !== undefined\n        ? splitter.call(separator, O, limit)\n        : internalSplit.call(String(O), separator, limit);\n    },\n    // `RegExp.prototype[@@split]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@split\n    //\n    // NOTE: This cannot be properly polyfilled in engines that don't support\n    // the 'y' flag.\n    function (regexp, limit) {\n      var res = maybeCallNative(internalSplit, regexp, this, limit, internalSplit !== nativeSplit);\n      if (res.done) return res.value;\n\n      var rx = anObject(regexp);\n      var S = String(this);\n      var C = speciesConstructor(rx, RegExp);\n\n      var unicodeMatching = rx.unicode;\n      var flags = (rx.ignoreCase ? 'i' : '') +\n                  (rx.multiline ? 'm' : '') +\n                  (rx.unicode ? 'u' : '') +\n                  (SUPPORTS_Y ? 'y' : 'g');\n\n      // ^(? + rx + ) is needed, in combination with some S slicing, to\n      // simulate the 'y' flag.\n      var splitter = new C(SUPPORTS_Y ? rx : '^(?:' + rx.source + ')', flags);\n      var lim = limit === undefined ? MAX_UINT32 : limit >>> 0;\n      if (lim === 0) return [];\n      if (S.length === 0) return callRegExpExec(splitter, S) === null ? [S] : [];\n      var p = 0;\n      var q = 0;\n      var A = [];\n      while (q < S.length) {\n        splitter.lastIndex = SUPPORTS_Y ? q : 0;\n        var z = callRegExpExec(splitter, SUPPORTS_Y ? S : S.slice(q));\n        var e;\n        if (\n          z === null ||\n          (e = min(toLength(splitter.lastIndex + (SUPPORTS_Y ? 0 : q)), S.length)) === p\n        ) {\n          q = advanceStringIndex(S, q, unicodeMatching);\n        } else {\n          A.push(S.slice(p, q));\n          if (A.length === lim) return A;\n          for (var i = 1; i <= z.length - 1; i++) {\n            A.push(z[i]);\n            if (A.length === lim) return A;\n          }\n          q = p = e;\n        }\n      }\n      A.push(S.slice(p));\n      return A;\n    }\n  ];\n}, !SUPPORTS_Y);\n","'use strict';\nvar $ = require('../internals/export');\nvar isArray = require('../internals/is-array');\n\nvar nativeReverse = [].reverse;\nvar test = [1, 2];\n\n// `Array.prototype.reverse` method\n// https://tc39.github.io/ecma262/#sec-array.prototype.reverse\n// fix for Safari 12.0 bug\n// https://bugs.webkit.org/show_bug.cgi?id=188794\n$({ target: 'Array', proto: true, forced: String(test) === String(test.reverse()) }, {\n  reverse: function reverse() {\n    // eslint-disable-next-line no-self-assign\n    if (isArray(this)) this.length = this.length;\n    return nativeReverse.call(this);\n  }\n});\n","'use strict';\nvar charAt = require('../internals/string-multibyte').charAt;\n\n// `AdvanceStringIndex` abstract operation\n// https://tc39.github.io/ecma262/#sec-advancestringindex\nmodule.exports = function (S, index, unicode) {\n  return index + (unicode ? charAt(S, index).length : 1);\n};\n","var classof = require('./classof-raw');\nvar regexpExec = require('./regexp-exec');\n\n// `RegExpExec` abstract operation\n// https://tc39.github.io/ecma262/#sec-regexpexec\nmodule.exports = function (R, S) {\n  var exec = R.exec;\n  if (typeof exec === 'function') {\n    var result = exec.call(R, S);\n    if (typeof result !== 'object') {\n      throw TypeError('RegExp exec method returned something other than an Object or null');\n    }\n    return result;\n  }\n\n  if (classof(R) !== 'RegExp') {\n    throw TypeError('RegExp#exec called on incompatible receiver');\n  }\n\n  return regexpExec.call(R, S);\n};\n\n","'use strict';\nvar $ = require('../internals/export');\nvar exec = require('../internals/regexp-exec');\n\n$({ target: 'RegExp', proto: true, forced: /./.exec !== exec }, {\n  exec: exec\n});\n","'use strict';\nvar fixRegExpWellKnownSymbolLogic = require('../internals/fix-regexp-well-known-symbol-logic');\nvar anObject = require('../internals/an-object');\nvar toObject = require('../internals/to-object');\nvar toLength = require('../internals/to-length');\nvar toInteger = require('../internals/to-integer');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\nvar advanceStringIndex = require('../internals/advance-string-index');\nvar regExpExec = require('../internals/regexp-exec-abstract');\n\nvar max = Math.max;\nvar min = Math.min;\nvar floor = Math.floor;\nvar SUBSTITUTION_SYMBOLS = /\\$([$&'`]|\\d\\d?|<[^>]*>)/g;\nvar SUBSTITUTION_SYMBOLS_NO_NAMED = /\\$([$&'`]|\\d\\d?)/g;\n\nvar maybeToString = function (it) {\n  return it === undefined ? it : String(it);\n};\n\n// @@replace logic\nfixRegExpWellKnownSymbolLogic('replace', 2, function (REPLACE, nativeReplace, maybeCallNative, reason) {\n  var REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = reason.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE;\n  var REPLACE_KEEPS_$0 = reason.REPLACE_KEEPS_$0;\n  var UNSAFE_SUBSTITUTE = REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE ? '$' : '$0';\n\n  return [\n    // `String.prototype.replace` method\n    // https://tc39.github.io/ecma262/#sec-string.prototype.replace\n    function replace(searchValue, replaceValue) {\n      var O = requireObjectCoercible(this);\n      var replacer = searchValue == undefined ? undefined : searchValue[REPLACE];\n      return replacer !== undefined\n        ? replacer.call(searchValue, O, replaceValue)\n        : nativeReplace.call(String(O), searchValue, replaceValue);\n    },\n    // `RegExp.prototype[@@replace]` method\n    // https://tc39.github.io/ecma262/#sec-regexp.prototype-@@replace\n    function (regexp, replaceValue) {\n      if (\n        (!REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE && REPLACE_KEEPS_$0) ||\n        (typeof replaceValue === 'string' && replaceValue.indexOf(UNSAFE_SUBSTITUTE) === -1)\n      ) {\n        var res = maybeCallNative(nativeReplace, regexp, this, replaceValue);\n        if (res.done) return res.value;\n      }\n\n      var rx = anObject(regexp);\n      var S = String(this);\n\n      var functionalReplace = typeof replaceValue === 'function';\n      if (!functionalReplace) replaceValue = String(replaceValue);\n\n      var global = rx.global;\n      if (global) {\n        var fullUnicode = rx.unicode;\n        rx.lastIndex = 0;\n      }\n      var results = [];\n      while (true) {\n        var result = regExpExec(rx, S);\n        if (result === null) break;\n\n        results.push(result);\n        if (!global) break;\n\n        var matchStr = String(result[0]);\n        if (matchStr === '') rx.lastIndex = advanceStringIndex(S, toLength(rx.lastIndex), fullUnicode);\n      }\n\n      var accumulatedResult = '';\n      var nextSourcePosition = 0;\n      for (var i = 0; i < results.length; i++) {\n        result = results[i];\n\n        var matched = String(result[0]);\n        var position = max(min(toInteger(result.index), S.length), 0);\n        var captures = [];\n        // NOTE: This is equivalent to\n        //   captures = result.slice(1).map(maybeToString)\n        // but for some reason `nativeSlice.call(result, 1, result.length)` (called in\n        // the slice polyfill when slicing native arrays) \"doesn't work\" in safari 9 and\n        // causes a crash (https://pastebin.com/N21QzeQA) when trying to debug it.\n        for (var j = 1; j < result.length; j++) captures.push(maybeToString(result[j]));\n        var namedCaptures = result.groups;\n        if (functionalReplace) {\n          var replacerArgs = [matched].concat(captures, position, S);\n          if (namedCaptures !== undefined) replacerArgs.push(namedCaptures);\n          var replacement = String(replaceValue.apply(undefined, replacerArgs));\n        } else {\n          replacement = getSubstitution(matched, S, position, captures, namedCaptures, replaceValue);\n        }\n        if (position >= nextSourcePosition) {\n          accumulatedResult += S.slice(nextSourcePosition, position) + replacement;\n          nextSourcePosition = position + matched.length;\n        }\n      }\n      return accumulatedResult + S.slice(nextSourcePosition);\n    }\n  ];\n\n  // https://tc39.github.io/ecma262/#sec-getsubstitution\n  function getSubstitution(matched, str, position, captures, namedCaptures, replacement) {\n    var tailPos = position + matched.length;\n    var m = captures.length;\n    var symbols = SUBSTITUTION_SYMBOLS_NO_NAMED;\n    if (namedCaptures !== undefined) {\n      namedCaptures = toObject(namedCaptures);\n      symbols = SUBSTITUTION_SYMBOLS;\n    }\n    return nativeReplace.call(replacement, symbols, function (match, ch) {\n      var capture;\n      switch (ch.charAt(0)) {\n        case '$': return '$';\n        case '&': return matched;\n        case '`': return str.slice(0, position);\n        case \"'\": return str.slice(tailPos);\n        case '<':\n          capture = namedCaptures[ch.slice(1, -1)];\n          break;\n        default: // \\d\\d?\n          var n = +ch;\n          if (n === 0) return match;\n          if (n > m) {\n            var f = floor(n / 10);\n            if (f === 0) return match;\n            if (f <= m) return captures[f - 1] === undefined ? ch.charAt(1) : captures[f - 1] + ch.charAt(1);\n            return match;\n          }\n          capture = captures[n - 1];\n      }\n      return capture === undefined ? '' : capture;\n    });\n  }\n});\n","'use strict';\n\nvar fails = require('./fails');\n\n// babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError,\n// so we use an intermediate function.\nfunction RE(s, f) {\n  return RegExp(s, f);\n}\n\nexports.UNSUPPORTED_Y = fails(function () {\n  // babel-minify transpiles RegExp('a', 'y') -> /a/y and it causes SyntaxError\n  var re = RE('a', 'y');\n  re.lastIndex = 2;\n  return re.exec('abcd') != null;\n});\n\nexports.BROKEN_CARET = fails(function () {\n  // https://bugzilla.mozilla.org/show_bug.cgi?id=773687\n  var re = RE('^r', 'gy');\n  re.lastIndex = 2;\n  return re.exec('str') != null;\n});\n","'use strict';\n// TODO: Remove from `core-js@4` since it's moved to entry points\nrequire('../modules/es.regexp.exec');\nvar redefine = require('../internals/redefine');\nvar fails = require('../internals/fails');\nvar wellKnownSymbol = require('../internals/well-known-symbol');\nvar regexpExec = require('../internals/regexp-exec');\nvar createNonEnumerableProperty = require('../internals/create-non-enumerable-property');\n\nvar SPECIES = wellKnownSymbol('species');\n\nvar REPLACE_SUPPORTS_NAMED_GROUPS = !fails(function () {\n  // #replace needs built-in support for named groups.\n  // #match works fine because it just return the exec results, even if it has\n  // a \"grops\" property.\n  var re = /./;\n  re.exec = function () {\n    var result = [];\n    result.groups = { a: '7' };\n    return result;\n  };\n  return ''.replace(re, '$<a>') !== '7';\n});\n\n// IE <= 11 replaces $0 with the whole match, as if it was $&\n// https://stackoverflow.com/questions/6024666/getting-ie-to-replace-a-regex-with-the-literal-string-0\nvar REPLACE_KEEPS_$0 = (function () {\n  return 'a'.replace(/./, '$0') === '$0';\n})();\n\nvar REPLACE = wellKnownSymbol('replace');\n// Safari <= 13.0.3(?) substitutes nth capture where n>m with an empty string\nvar REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE = (function () {\n  if (/./[REPLACE]) {\n    return /./[REPLACE]('a', '$0') === '';\n  }\n  return false;\n})();\n\n// Chrome 51 has a buggy \"split\" implementation when RegExp#exec !== nativeExec\n// Weex JS has frozen built-in prototypes, so use try / catch wrapper\nvar SPLIT_WORKS_WITH_OVERWRITTEN_EXEC = !fails(function () {\n  var re = /(?:)/;\n  var originalExec = re.exec;\n  re.exec = function () { return originalExec.apply(this, arguments); };\n  var result = 'ab'.split(re);\n  return result.length !== 2 || result[0] !== 'a' || result[1] !== 'b';\n});\n\nmodule.exports = function (KEY, length, exec, sham) {\n  var SYMBOL = wellKnownSymbol(KEY);\n\n  var DELEGATES_TO_SYMBOL = !fails(function () {\n    // String methods call symbol-named RegEp methods\n    var O = {};\n    O[SYMBOL] = function () { return 7; };\n    return ''[KEY](O) != 7;\n  });\n\n  var DELEGATES_TO_EXEC = DELEGATES_TO_SYMBOL && !fails(function () {\n    // Symbol-named RegExp methods call .exec\n    var execCalled = false;\n    var re = /a/;\n\n    if (KEY === 'split') {\n      // We can't use real regex here since it causes deoptimization\n      // and serious performance degradation in V8\n      // https://github.com/zloirock/core-js/issues/306\n      re = {};\n      // RegExp[@@split] doesn't call the regex's exec method, but first creates\n      // a new one. We need to return the patched regex when creating the new one.\n      re.constructor = {};\n      re.constructor[SPECIES] = function () { return re; };\n      re.flags = '';\n      re[SYMBOL] = /./[SYMBOL];\n    }\n\n    re.exec = function () { execCalled = true; return null; };\n\n    re[SYMBOL]('');\n    return !execCalled;\n  });\n\n  if (\n    !DELEGATES_TO_SYMBOL ||\n    !DELEGATES_TO_EXEC ||\n    (KEY === 'replace' && !(\n      REPLACE_SUPPORTS_NAMED_GROUPS &&\n      REPLACE_KEEPS_$0 &&\n      !REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    )) ||\n    (KEY === 'split' && !SPLIT_WORKS_WITH_OVERWRITTEN_EXEC)\n  ) {\n    var nativeRegExpMethod = /./[SYMBOL];\n    var methods = exec(SYMBOL, ''[KEY], function (nativeMethod, regexp, str, arg2, forceStringMethod) {\n      if (regexp.exec === regexpExec) {\n        if (DELEGATES_TO_SYMBOL && !forceStringMethod) {\n          // The native String method already delegates to @@method (this\n          // polyfilled function), leasing to infinite recursion.\n          // We avoid it by directly calling the native @@method method.\n          return { done: true, value: nativeRegExpMethod.call(regexp, str, arg2) };\n        }\n        return { done: true, value: nativeMethod.call(str, regexp, arg2) };\n      }\n      return { done: false };\n    }, {\n      REPLACE_KEEPS_$0: REPLACE_KEEPS_$0,\n      REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE\n    });\n    var stringMethod = methods[0];\n    var regexMethod = methods[1];\n\n    redefine(String.prototype, KEY, stringMethod);\n    redefine(RegExp.prototype, SYMBOL, length == 2\n      // 21.2.5.8 RegExp.prototype[@@replace](string, replaceValue)\n      // 21.2.5.11 RegExp.prototype[@@split](string, limit)\n      ? function (string, arg) { return regexMethod.call(string, this, arg); }\n      // 21.2.5.6 RegExp.prototype[@@match](string)\n      // 21.2.5.9 RegExp.prototype[@@search](string)\n      : function (string) { return regexMethod.call(string, this); }\n    );\n  }\n\n  if (sham) createNonEnumerableProperty(RegExp.prototype[SYMBOL], 'sham', true);\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container service_desktop_index\",on:{\"click\":function($event){return _vm.handleClickCloseDialog($event)}}},[_c('el-dialog',{staticClass:\"patch_dialog\",attrs:{\"title\":\"提示\",\"visible\":_vm.patchDialog,\"width\":\"30%\"},on:{\"update:visible\":function($event){_vm.patchDialog=$event}}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.patch_service_id),callback:function ($$v) {_vm.patch_service_id=$$v},expression:\"patch_service_id\"}},_vm._l((_vm.online_service_list),function(item){return _c('el-option',{key:item.value,attrs:{\"span\":24,\"label\":item.label,\"value\":item.value}})}),1),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{nativeOn:{\"click\":function($event){_vm.patchDialog = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.handleClickPatchServiceConfirm()}}},[_vm._v(\"确 定\")])],1)],1),_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"visitor_tab\"},[_c('div',{staticClass:\"item\",class:_vm.visitor_tab_index == 1 ? 'active_item' : '',on:{\"click\":function($event){return _vm.handleClickVisitorTabItem(1)}}},[_vm._v(\" 当前 \")]),_c('div',{staticClass:\"item\",class:_vm.visitor_tab_index == 2 ? 'active_item' : '',on:{\"click\":function($event){return _vm.handleClickVisitorTabItem(2)}}},[_vm._v(\" 历史会话 \")])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visitor_tab_index == 1),expression:\"visitor_tab_index == 1\"}],staticClass:\"visitor_list scrollBar\"},_vm._l((_vm.visitor_list),function(item,index){return _c('div',{key:index,staticClass:\"item\",class:[\n          item.visitor_status == 'online' ? '' : 'offline_item',\n          item.id == _vm.currentChatVisitor.id ? 'active_item' : ''\n        ],on:{\"click\":function($event){return _vm.handleClickshowChatDialog(index)}}},[_c('div',{staticClass:\"img_box\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":item.portrait}}),(item.message_count != 0)?_c('div',{staticClass:\"message_count\"},[_vm._v(\" \"+_vm._s(item.message_count)+\" \")]):_vm._e()]),_c('div',{staticClass:\"nickname\"},[_c('div',{staticClass:\"text_hidden\"},[_vm._v(\" \"+_vm._s(item.nickname)),_c('span',{staticClass:\"visit_origin_text\"},[_vm._v(_vm._s(item.visit_origin_text))])]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(item.temp_text != ''),expression:\"item.temp_text != ''\"}],staticClass:\"temp_text\"},[_vm._v(\" [草稿] \")])])])}),0),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visitor_tab_index == 2),expression:\"visitor_tab_index == 2\"}],staticClass:\"history_list scrollBar\"},_vm._l((_vm.history_list),function(item,index){return _c('div',{key:index,staticClass:\"item\",class:item.id == _vm.currentHistoryVisitor.id ? 'active_item' : '',on:{\"click\":function($event){return _vm.handleClickshowHistoryDialog(index)}}},[_c('div',{staticClass:\"img_box\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":item.portrait}})]),_c('div',{staticClass:\"nickname\"},[_c('div',{staticClass:\"text_hidden\"},[_vm._v(_vm._s(item.nickname))])])])}),0)]),_c('div',{staticClass:\"middle\"},[(\n        Object.keys(_vm.currentChatVisitor).length > 0 && _vm.visitor_tab_index == 1\n      )?_c('div',{staticClass:\"chat_dialog\"},[_c('div',{staticClass:\"chat_header\"},[_c('div',{staticClass:\"chat_header_left\"},[_c('div',{staticClass:\"img_box\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.currentChatVisitor.portrait}})]),_c('div',{staticClass:\"nickname\"},[_vm._v(\" \"+_vm._s(_vm.currentChatVisitor.nickname)+\" \")])]),_c('div',{staticClass:\"chat_header_right\"},[_c('div',{staticClass:\"patch_box\",on:{\"click\":function($event){return _vm.handleClickPatchChat()}}},[_vm._v(\"转接\")]),_c('div',{staticClass:\"close_box\",on:{\"click\":function($event){return _vm.handleClickCloseChat()}}},[_c('svg-icon',{staticClass:\"icon\",attrs:{\"iconClass\":\"close\"}}),_c('div',{staticClass:\"close_btn\"},[_vm._v(\"结束会话\")])],1)])]),_c('div',{ref:\"scroll_chat\",staticClass:\"scroll_chat scrollBar\"},_vm._l((_vm.currentChatVisitor.message),function(item,index){return _c('div',{key:index,staticClass:\"scroll_chat_row\"},[(item.show_time)?_c('div',{staticClass:\"time_row\"},[_c('div',{staticClass:\"time_row_text\"},[_vm._v(\" \"+_vm._s(_vm.transformToDate(item.time))+\" \")])]):_vm._e(),(item.identity == 'visitor')?_c('div',{staticClass:\"scroll_chat_left\"},[_c('div',{staticClass:\"img_box\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.currentChatVisitor.portrait}})]),(item.type == 'text')?_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(item.content)}}):_vm._e(),(item.type == 'image')?_c('el-image',{staticClass:\"chat_img\",attrs:{\"src\":item.content,\"preview-src-list\":[item.content]}}):_vm._e()],1):_c('div',{staticClass:\"scroll_chat_right\"},[(item.type == 'text')?_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(item.content)}}):_vm._e(),(item.type == 'image')?_c('el-image',{staticClass:\"chat_img\",attrs:{\"src\":item.content,\"preview-src-list\":[item.content]}}):_vm._e(),_c('div',{staticClass:\"img_box\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.avatar}})])],1)])}),0),_c('div',{staticClass:\"send_box\"},[_c('div',{staticClass:\"tool_bar\"},[_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.show_emoji),expression:\"show_emoji\"}],staticClass:\"emoji_list\"},_vm._l((_vm.emojis),function(item,index){return _c('div',{key:index,staticClass:\"emoji_item\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":item.img},on:{\"click\":function($event){return _vm.handleInsertEmoji(item.name)}}})])}),0),_c('div',{staticClass:\"emoji\",on:{\"click\":function($event){return _vm.handleShowEmoji()}}},[_c('svg-icon',{staticClass:\"icon\",attrs:{\"iconClass\":\"emoji\"}})],1),_c('div',{staticClass:\"picture\",on:{\"click\":function($event){return _vm.handleOpenImageUploadDialog()}}},[_c('svg-icon',{staticClass:\"icon\",attrs:{\"iconClass\":\"picture\"}})],1)]),_c('div',{staticClass:\"send_textarea\"},[_c('div',{ref:\"editor\",staticClass:\"scrollBar textarea\",attrs:{\"contenteditable\":\"true\"},on:{\"keydown\":function($event){return _vm.handleKeyDown($event)},\"keyup\":function($event){return _vm.handlekeyUp($event)},\"click\":function($event){return _vm.handleEditorClick()}}})]),_c('div',{staticClass:\"send_btn_box\"},[_c('div',{staticClass:\"tips\"},[_vm._v(\"ENTER换行 SHIFT+ENTER发送\")]),_c('el-button',{staticClass:\"send_btn\",attrs:{\"type\":\"primary\"},nativeOn:{\"click\":function($event){return _vm.handleSubmit()}}},[_vm._v(\"确定\")])],1)])]):_vm._e(),(\n        Object.keys(_vm.currentHistoryVisitor).length > 0 &&\n          _vm.visitor_tab_index == 2\n      )?_c('div',{staticClass:\"history_dialog\"},[_c('div',{staticClass:\"history_header\"},[_c('div',{staticClass:\"history_header_left\"},[_c('div',{staticClass:\"img_box\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.currentHistoryVisitor.portrait}})]),_c('div',{staticClass:\"nickname\"},[_vm._v(\" \"+_vm._s(_vm.currentHistoryVisitor.nickname)+\" \")])])]),_c('div',{ref:\"scroll_history\",staticClass:\"scroll_history scrollBar\"},_vm._l((_vm.currentHistoryVisitor.message),function(item,index){return _c('div',{key:index,staticClass:\"scroll_history_row\"},[_c('div',{staticClass:\"time_row\"},[_c('div',{staticClass:\"time_row_text\"},[_vm._v(\" \"+_vm._s(item.create_time)+\" \")])]),(item.identity == 'visitor')?_c('div',{staticClass:\"scroll_history_left\"},[_c('div',{staticClass:\"img_box\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.currentHistoryVisitor.portrait}})]),(item.type == 'text')?_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(item.record_content)}}):_vm._e(),(item.type == 'image')?_c('el-image',{staticClass:\"chat_img\",attrs:{\"src\":item.record_content,\"preview-src-list\":[item.record_content]}}):_vm._e()],1):_c('div',{staticClass:\"scroll_history_right\"},[(item.type == 'text')?_c('div',{staticClass:\"content\",domProps:{\"innerHTML\":_vm._s(item.record_content)}}):_vm._e(),(item.type == 'image')?_c('el-image',{staticClass:\"chat_img\",attrs:{\"src\":item.record_content,\"preview-src-list\":[item.record_content]}}):_vm._e(),_c('div',{staticClass:\"img_box\"},[_c('img',{staticClass:\"img\",attrs:{\"src\":_vm.avatar}})])],1)])}),0)]):_vm._e()]),_c('div',{directives:[{name:\"show\",rawName:\"v-show\",value:(_vm.visitor_tab_index == 1),expression:\"visitor_tab_index == 1\"}],staticClass:\"right\"},[_c('div',{staticClass:\"used_tab\"},[_c('div',{staticClass:\"item\",class:_vm.used_tab_index == 1 ? 'active' : '',on:{\"click\":function($event){return _vm.handleClickChangeUseTab(1)}}},[_vm._v(\" 客户基本资料 \")]),_c('div',{staticClass:\"item\",class:_vm.used_tab_index == 2 ? 'active' : '',on:{\"click\":function($event){return _vm.handleClickChangeUseTab(2)}}},[_vm._v(\" 快捷回复 \")]),_c('div',{staticClass:\"item\",class:_vm.used_tab_index == 3 ? 'active' : '',on:{\"click\":function($event){return _vm.handleClickChangeUseTab(3)}}},[_vm._v(\" 常用工具 \")])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","/**\r\n * Created by 86431 on 2018/5/29 0029.\r\n */\r\nlet PUBLIC = {\r\n  data() {\r\n    return {}\r\n  },\r\n  methods: {\r\n    /**\r\n     * 转换成h:i:s 时间格式\r\n     * @param {new Date()} date\r\n     */\r\n    transformToDate(date) {\r\n      let h = date.getHours()\r\n      h = h < 10 ? '0' + h : h\r\n      let minute = date.getMinutes()\r\n      let second = date.getSeconds()\r\n      minute = minute < 10 ? '0' + minute : minute\r\n      second = second < 10 ? '0' + second : second\r\n      return h + ':' + minute + ':' + second\r\n    },\r\n\r\n    /**\r\n     * 替换指定开始到结束的字符串\r\n     * @param {原始字符串}} text\r\n     * @param {开始位置} start\r\n     * @param {结束位置} stop\r\n     * @param {替换的字符串} replacetext\r\n     */\r\n    replacepos(text, start, stop, replacetext) {\r\n      let mystr = text.substring(0, start) + replacetext + text.substring(stop)\r\n      return mystr\r\n    }\r\n  }\r\n}\r\nexport { PUBLIC }\r\n","import request from '@/utils/request'\r\n\r\nexport function serviceDesktopIndexBindClientId(data) {\r\n  return request({\r\n    url: '/service_manage/serviceDesktopIndexBindClientId',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\nexport function serviceDesktopIndexGetVisitorInfo(data) {\r\n  return request({\r\n    url: '/service_manage/serviceDesktopIndexGetVisitorInfo',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\nexport function serviceDesktopIndexAddServiceRecord(data) {\r\n  return request({\r\n    url: '/service_manage/serviceDesktopIndexAddServiceRecord',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\nexport function serviceDesktopIndexCloseChat(data) {\r\n  return request({\r\n    url: '/service_manage/serviceDesktopIndexCloseChat',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n\r\nexport function getEmoji() {\r\n  return request({\r\n    url: '/emoji/getEmoji',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function handleUploadChatImage(form_data) {\r\n  return request({\r\n    url: '/upload/uploadImage',\r\n    method: 'post',\r\n    data: form_data,\r\n    headers: {\r\n      'Content-Type': 'multipart/form-data'\r\n    }\r\n  })\r\n}\r\n\r\nexport function serviceDesktopIndexGetRecordForWeek() {\r\n  return request({\r\n    url: '/service_manage/serviceDesktopIndexGetRecordForWeek',\r\n    method: 'get'\r\n  })\r\n}\r\n\r\nexport function serviceDesktopIndexGetOnlineServiceList() {\r\n  return request({\r\n    url: '/service_manage/serviceDesktopIndexGetOnlineServiceList',\r\n    method: 'get'\r\n  })\r\n}\r\nexport function serviceDesktopIndexPatchToVisitor(data) {\r\n  return request({\r\n    url: '/service_manage/serviceDesktopIndexPatchToVisitor',\r\n    method: 'post',\r\n    data: data\r\n  })\r\n}\r\n","<template>\n  <div\n    class=\"app-container service_desktop_index\"\n    @click=\"handleClickCloseDialog($event)\"\n  >\n    <el-dialog\n      title=\"提示\"\n      :visible.sync=\"patchDialog\"\n      width=\"30%\"\n      class=\"patch_dialog\"\n    >\n      <el-select v-model=\"patch_service_id\" placeholder=\"请选择\">\n        <el-option\n          :span=\"24\"\n          v-for=\"item in online_service_list\"\n          :key=\"item.value\"\n          :label=\"item.label\"\n          :value=\"item.value\"\n        >\n        </el-option>\n      </el-select>\n      <span slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click.native=\"patchDialog = false\">取 消</el-button>\n        <el-button\n          type=\"primary\"\n          @click.native=\"handleClickPatchServiceConfirm()\"\n          >确 定</el-button\n        >\n      </span>\n    </el-dialog>\n\n    <div class=\"left\">\n      <div class=\"visitor_tab\">\n        <div\n          class=\"item\"\n          :class=\"visitor_tab_index == 1 ? 'active_item' : ''\"\n          @click=\"handleClickVisitorTabItem(1)\"\n        >\n          当前\n        </div>\n        <div\n          class=\"item\"\n          :class=\"visitor_tab_index == 2 ? 'active_item' : ''\"\n          @click=\"handleClickVisitorTabItem(2)\"\n        >\n          历史会话\n        </div>\n      </div>\n      <div class=\"visitor_list scrollBar\" v-show=\"visitor_tab_index == 1\">\n        <div\n          class=\"item\"\n          :class=\"[\n            item.visitor_status == 'online' ? '' : 'offline_item',\n            item.id == currentChatVisitor.id ? 'active_item' : ''\n          ]\"\n          v-for=\"(item, index) in visitor_list\"\n          :key=\"index\"\n          @click=\"handleClickshowChatDialog(index)\"\n        >\n          <div class=\"img_box\">\n            <img class=\"img\" :src=\"item.portrait\" />\n            <div class=\"message_count\" v-if=\"item.message_count != 0\">\n              {{ item.message_count }}\n            </div>\n          </div>\n          <div class=\"nickname\">\n            <div class=\"text_hidden\">\n              {{ item.nickname\n              }}<span class=\"visit_origin_text\">{{\n                item.visit_origin_text\n              }}</span>\n            </div>\n            <div class=\"temp_text\" v-show=\"item.temp_text != ''\">\n              [草稿]\n            </div>\n          </div>\n        </div>\n      </div>\n      <div class=\"history_list scrollBar\" v-show=\"visitor_tab_index == 2\">\n        <div\n          class=\"item\"\n          :class=\"item.id == currentHistoryVisitor.id ? 'active_item' : ''\"\n          v-for=\"(item, index) in history_list\"\n          :key=\"index\"\n          @click=\"handleClickshowHistoryDialog(index)\"\n        >\n          <div class=\"img_box\">\n            <img class=\"img\" :src=\"item.portrait\" />\n          </div>\n          <div class=\"nickname\">\n            <div class=\"text_hidden\">{{ item.nickname }}</div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"middle\">\n      <div\n        class=\"chat_dialog\"\n        v-if=\"\n          Object.keys(currentChatVisitor).length > 0 && visitor_tab_index == 1\n        \"\n      >\n        <div class=\"chat_header\">\n          <div class=\"chat_header_left\">\n            <div class=\"img_box\">\n              <img class=\"img\" :src=\"currentChatVisitor.portrait\" />\n            </div>\n            <div class=\"nickname\">\n              {{ currentChatVisitor.nickname }}\n            </div>\n          </div>\n          <div class=\"chat_header_right\">\n            <div class=\"patch_box\" @click=\"handleClickPatchChat()\">转接</div>\n            <div class=\"close_box\" @click=\"handleClickCloseChat()\">\n              <svg-icon iconClass=\"close\" class=\"icon\" />\n              <div class=\"close_btn\">结束会话</div>\n            </div>\n          </div>\n        </div>\n        <div class=\"scroll_chat scrollBar\" ref=\"scroll_chat\">\n          <div\n            class=\"scroll_chat_row\"\n            v-for=\"(item, index) in currentChatVisitor.message\"\n            :key=\"index\"\n          >\n            <div class=\"time_row\" v-if=\"item.show_time\">\n              <div class=\"time_row_text\">\n                {{ transformToDate(item.time) }}\n              </div>\n            </div>\n            <div class=\"scroll_chat_left\" v-if=\"item.identity == 'visitor'\">\n              <div class=\"img_box\">\n                <img :src=\"currentChatVisitor.portrait\" class=\"img\" />\n              </div>\n              <div\n                class=\"content\"\n                v-html=\"item.content\"\n                v-if=\"item.type == 'text'\"\n              ></div>\n              <el-image\n                v-if=\"item.type == 'image'\"\n                class=\"chat_img\"\n                :src=\"item.content\"\n                :preview-src-list=\"[item.content]\"\n              ></el-image>\n            </div>\n            <div class=\"scroll_chat_right\" v-else>\n              <div\n                class=\"content\"\n                v-html=\"item.content\"\n                v-if=\"item.type == 'text'\"\n              ></div>\n              <el-image\n                v-if=\"item.type == 'image'\"\n                class=\"chat_img\"\n                :src=\"item.content\"\n                :preview-src-list=\"[item.content]\"\n              ></el-image>\n              <div class=\"img_box\">\n                <img :src=\"avatar\" class=\"img\" />\n              </div>\n            </div>\n          </div>\n        </div>\n        <div class=\"send_box\">\n          <div class=\"tool_bar\">\n            <div class=\"emoji_list\" v-show=\"show_emoji\">\n              <div\n                class=\"emoji_item\"\n                v-for=\"(item, index) in emojis\"\n                :key=\"index\"\n              >\n                <img\n                  class=\"img\"\n                  :src=\"item.img\"\n                  @click=\"handleInsertEmoji(item.name)\"\n                />\n              </div>\n            </div>\n            <div class=\"emoji\" @click=\"handleShowEmoji()\">\n              <svg-icon iconClass=\"emoji\" class=\"icon\" />\n            </div>\n            <div class=\"picture\" @click=\"handleOpenImageUploadDialog()\">\n              <svg-icon iconClass=\"picture\" class=\"icon\" />\n            </div>\n          </div>\n          <div class=\"send_textarea\">\n            <div\n              class=\"scrollBar textarea\"\n              ref=\"editor\"\n              contenteditable=\"true\"\n              @keydown=\"handleKeyDown($event)\"\n              @keyup=\"handlekeyUp($event)\"\n              @click=\"handleEditorClick()\"\n            ></div>\n          </div>\n          <div class=\"send_btn_box\">\n            <div class=\"tips\">ENTER换行 SHIFT+ENTER发送</div>\n            <el-button\n              class=\"send_btn\"\n              type=\"primary\"\n              @click.native=\"handleSubmit()\"\n              >确定</el-button\n            >\n          </div>\n        </div>\n      </div>\n      <div\n        class=\"history_dialog\"\n        v-if=\"\n          Object.keys(currentHistoryVisitor).length > 0 &&\n            visitor_tab_index == 2\n        \"\n      >\n        <div class=\"history_header\">\n          <div class=\"history_header_left\">\n            <div class=\"img_box\">\n              <img class=\"img\" :src=\"currentHistoryVisitor.portrait\" />\n            </div>\n            <div class=\"nickname\">\n              {{ currentHistoryVisitor.nickname }}\n            </div>\n          </div>\n        </div>\n        <div class=\"scroll_history scrollBar\" ref=\"scroll_history\">\n          <div\n            class=\"scroll_history_row\"\n            v-for=\"(item, index) in currentHistoryVisitor.message\"\n            :key=\"index\"\n          >\n            <div class=\"time_row\">\n              <div class=\"time_row_text\">\n                {{ item.create_time }}\n              </div>\n            </div>\n            <div class=\"scroll_history_left\" v-if=\"item.identity == 'visitor'\">\n              <div class=\"img_box\">\n                <img :src=\"currentHistoryVisitor.portrait\" class=\"img\" />\n              </div>\n              <div\n                class=\"content\"\n                v-html=\"item.record_content\"\n                v-if=\"item.type == 'text'\"\n              ></div>\n              <el-image\n                v-if=\"item.type == 'image'\"\n                class=\"chat_img\"\n                :src=\"item.record_content\"\n                :preview-src-list=\"[item.record_content]\"\n              ></el-image>\n            </div>\n            <div class=\"scroll_history_right\" v-else>\n              <div\n                class=\"content\"\n                v-html=\"item.record_content\"\n                v-if=\"item.type == 'text'\"\n              ></div>\n              <el-image\n                v-if=\"item.type == 'image'\"\n                class=\"chat_img\"\n                :src=\"item.record_content\"\n                :preview-src-list=\"[item.record_content]\"\n              ></el-image>\n              <div class=\"img_box\">\n                <img :src=\"avatar\" class=\"img\" />\n              </div>\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"right\" v-show=\"visitor_tab_index == 1\">\n      <div class=\"used_tab\">\n        <div\n          class=\"item\"\n          :class=\"used_tab_index == 1 ? 'active' : ''\"\n          @click=\"handleClickChangeUseTab(1)\"\n        >\n          客户基本资料\n        </div>\n        <div\n          class=\"item\"\n          :class=\"used_tab_index == 2 ? 'active' : ''\"\n          @click=\"handleClickChangeUseTab(2)\"\n        >\n          快捷回复\n        </div>\n        <div\n          class=\"item\"\n          :class=\"used_tab_index == 3 ? 'active' : ''\"\n          @click=\"handleClickChangeUseTab(3)\"\n        >\n          常用工具\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport { PUBLIC } from '@/mixins'\nimport {\n  serviceDesktopIndexBindClientId,\n  serviceDesktopIndexGetVisitorInfo,\n  serviceDesktopIndexAddServiceRecord,\n  serviceDesktopIndexCloseChat,\n  getEmoji,\n  handleUploadChatImage,\n  serviceDesktopIndexGetRecordForWeek,\n  serviceDesktopIndexGetOnlineServiceList,\n  serviceDesktopIndexPatchToVisitor\n} from '@/api/service_manage/service_desktop'\nimport { mapGetters } from 'vuex'\nconst { clipboard, ipcRenderer } = require('electron')\nconst fs = require('fs')\nexport default {\n  name: 'service_desktop_index',\n  data() {\n    return {\n      List: [],\n      ws: null,\n      visitor_tab_index: 1, //选项卡索引\n      /****当前 ****/\n      visitor_list: [], //待接入列表\n      currentChatVisitor: {}, //当前聊天对象\n      show_emoji: false, //显示emoji\n      emojis: [], //emoji列表\n      lastEditRange: null, //最后光标对象\n      patchDialog: false, //显示转接DIALOG\n      online_service_list: [], //在线客服列表\n      patch_service_id: null, //绑定客服id\n      /****历史*****/\n      history_list: [], //历史会话列表\n      currentHistoryVisitor: {}, //历史记录对象\n      used_tab_index: 1 //右侧常用工具栏选项卡索引\n    }\n  },\n  mixins: [PUBLIC],\n  computed: {\n    ...mapGetters(['user_id', 'avatar', 'nickname'])\n  },\n  mounted() {\n    this.initWebSocket()\n  },\n  methods: {\n    //关闭全局对话框\n    handleClickCloseDialog: function(e) {\n      if (this.show_emoji) {\n        if (\n          e.target.className != 'emoji_list' &&\n          e.target.className != 'emoji_item' &&\n          e.target.className != 'emoji' &&\n          e.target.parentNode.className != 'emoji'\n        ) {\n          this.show_emoji = false\n        }\n      }\n    },\n    /**\n     * 初始化websocket\n     */\n    initWebSocket: function() {\n      let that = this\n      let temp_visitor,\n        temp_offline_visitor,\n        one_message,\n        flag,\n        cur_time,\n        show_time,\n        timestamp,\n        is_JSON = false\n      this.ws = new WebSocket(this.$config.webSocket_Base_Url)\n      this.ws.onopen = function(evt) {\n        //绑定连接事件\n        that.$message({\n          message: '客服系统连接成功',\n          type: 'success'\n        })\n      }\n      this.ws.onmessage = evt => {\n        if (typeof evt.data == 'string') {\n          try {\n            JSON.parse(evt.data)\n            is_JSON = true\n          } catch (e) {\n            //不是json\n            is_JSON = false\n          }\n        }\n        if (!is_JSON) {\n          return false\n        }\n\n        let data = JSON.parse(evt.data)\n        // console.log(data)\n        switch (data.type) {\n          case 'bind':\n            //绑定客服id\n            serviceDesktopIndexBindClientId({\n              client_id: data.client_id\n            }).then(res => {})\n            break\n          case 'wait':\n            //刷新待接入游客 获取用户头像昵称userid\n            flag = false\n            temp_visitor = []\n            that.visitor_list.forEach((element, index) => {\n              if (element.id == data.user_id) {\n                that.$set(that.visitor_list[index], 'visitor_status', 'online')\n                temp_visitor = that.visitor_list[index]\n                that.visitor_list.splice(index, 1)\n                flag = true\n              }\n            })\n            if (flag) {\n              that.visitor_list.unshift(temp_visitor)\n            }\n            if (!flag) {\n              serviceDesktopIndexGetVisitorInfo({\n                user_id: data.user_id\n              }).then(res => {\n                switch (data.visit_origin) {\n                  case '1':\n                    //小程序\n                    res.data.visit_origin_text = '小程序'\n                    break\n                  default:\n                    break\n                }\n                res.data.visit_origin = data.visit_origin\n                res.data.visitor_status = 'online'\n                res.data.message_count = 0\n                res.data.message = []\n                res.data.temp_text = '' //草稿\n                that.visitor_list.unshift(res.data)\n              })\n            }\n            new Notification('提示', { body: '您有一个有新的会话' })\n            break\n          case 'visitor_offline':\n            //游客离线了\n            temp_offline_visitor = []\n            that.visitor_list.forEach((element, index) => {\n              if (element.id == data.user_id) {\n                that.$set(that.visitor_list[index], 'visitor_status', 'offline')\n                temp_offline_visitor = that.visitor_list[index]\n                that.visitor_list.splice(index, 1)\n              }\n            })\n            that.visitor_list = that.visitor_list.concat(temp_offline_visitor)\n            break\n          case 'text':\n            //收到游客文本消息\n            temp_visitor = []\n            one_message = {}\n            that.visitor_list.forEach((element, index) => {\n              if (element.id == data.user_id) {\n                //消息显示+1\n                if (\n                  Object.keys(that.currentChatVisitor).length == 0 ||\n                  that.currentChatVisitor.id != data.user_id\n                ) {\n                  that.$set(\n                    that.visitor_list[index],\n                    'message_count',\n                    element.message_count + 1\n                  )\n                }\n                //判断消息发送是否超过1分钟\n                cur_time = new Date()\n                timestamp = cur_time.getTime()\n                show_time = false\n                if (element.message.length == 0) {\n                  show_time = true\n                } else {\n                  if (\n                    timestamp -\n                      element.message[\n                        element.message.length - 1\n                      ].time.getTime() >\n                    6 * 1000\n                  ) {\n                    show_time = true\n                  }\n                }\n                //放入指定对象的聊天消息数组\n                one_message = {\n                  type: 'text',\n                  content: data.content.replace(\n                    /(\\[\\/em)([0-9]{2})(\\])/g,\n                    '<img src=\"http://lyqq.cn-lianyi.com/public/static/images/emojis/$2.gif?' +\n                      Math.floor(Math.random() * 100 + 1) +\n                      '\" />'\n                  ),\n                  time: new Date(),\n                  identity: 'visitor',\n                  show_time: show_time\n                }\n                that.visitor_list[index].message.push(one_message)\n\n                temp_visitor = that.visitor_list[index]\n                that.visitor_list.splice(index, 1)\n                flag = true\n              }\n            })\n            if (flag) {\n              that.visitor_list.unshift(temp_visitor)\n            }\n            that.chatDialogScrollToBottom()\n            serviceDesktopIndexAddServiceRecord({\n              visitor_id: data.user_id,\n              identity: 'visitor',\n              type: 'text',\n              time: one_message.time.getTime(),\n              record_content: data.content\n            }).then(() => {})\n            break\n          case 'image':\n            //收到游客图片消息\n            temp_visitor = []\n            one_message = {}\n            that.visitor_list.forEach((element, index) => {\n              if (element.id == data.user_id) {\n                //消息显示+1\n                if (\n                  Object.keys(that.currentChatVisitor).length == 0 ||\n                  that.currentChatVisitor.id != data.user_id\n                ) {\n                  that.$set(\n                    that.visitor_list[index],\n                    'message_count',\n                    element.message_count + 1\n                  )\n                }\n                //判断消息发送是否超过1分钟\n                cur_time = new Date()\n                timestamp = cur_time.getTime()\n                show_time = false\n                if (element.message.length == 0) {\n                  show_time = true\n                } else {\n                  if (\n                    timestamp -\n                      element.message[\n                        element.message.length - 1\n                      ].time.getTime() >\n                    6 * 1000\n                  ) {\n                    show_time = true\n                  }\n                }\n                //放入指定对象的聊天消息数组\n                one_message = {\n                  type: 'image',\n                  content: data.content,\n                  time: new Date(),\n                  identity: 'visitor',\n                  show_time: show_time\n                }\n                that.visitor_list[index].message.push(one_message)\n\n                temp_visitor = that.visitor_list[index]\n                that.visitor_list.splice(index, 1)\n                flag = true\n              }\n            })\n            if (flag) {\n              that.visitor_list.unshift(temp_visitor)\n            }\n            that.chatDialogScrollToBottom()\n            serviceDesktopIndexAddServiceRecord({\n              visitor_id: data.user_id,\n              identity: 'visitor',\n              type: 'image',\n              time: one_message.time.getTime(),\n              record_content: one_message.content\n            }).then(() => {})\n            break\n          default:\n            break\n        }\n      }\n      this.ws.onclose = evt => {}\n    },\n    /**\n     * 点击切换当前和历史记录\n     */\n    handleClickVisitorTabItem: function(index) {\n      this.visitor_tab_index = index\n      if (index == 2) {\n        //历史会话\n        //读取最近7天聊天记录\n        serviceDesktopIndexGetRecordForWeek({}).then(res => {\n          res.data.forEach((element, index) => {\n            element.message.forEach((ele, i) => {\n              res.data[index].message[\n                i\n              ].record_content = ele.record_content.replace(\n                /(\\[\\/em)([0-9]{2})(\\])/g,\n                '<img src=\"http://lyqq.cn-lianyi.com/public/static/images/emojis/$2.gif?' +\n                  Math.floor(Math.random() * 100 + 1) +\n                  '\" />'\n              )\n            })\n          })\n          this.history_list = res.data\n          if (this.history_list.length > 0) {\n            this.currentHistoryVisitor = this.history_list[0]\n          }\n        })\n      }\n    },\n    /**\n     * 点击显示聊天窗口\n     */\n    handleClickshowChatDialog: function(index) {\n      //点的不是自己，保存当前文本内容为草稿\n      // if (this.visitor_list[index].id != this.currentChatVisitor.id) {\n      this.visitor_list.forEach((element, i) => {\n        if (element.id == this.currentChatVisitor.id) {\n          this.$set(\n            this.visitor_list[i],\n            'temp_text',\n            this.$refs.editor.innerHTML\n          )\n        }\n      })\n      // }\n\n      //消息计数为0\n      this.visitor_list[index].message_count = 0\n      //设置当前聊天对象\n      this.currentChatVisitor = this.visitor_list[index]\n      //设置当前编辑框草稿内容\n      //第一次点击 没有这个编辑器\n      typeof this.$refs.editor !== 'undefined'\n        ? (this.$refs.editor.innerHTML = this.currentChatVisitor.temp_text)\n        : ''\n      //点的当前对象草稿清空\n      this.$set(this.visitor_list[index], 'temp_text', '')\n      this.currentChatVisitor.temp_text = ''\n      //滚动到底部\n      this.chatDialogScrollToBottom()\n    },\n    /**\n     * 滚动最底部\n     */\n    chatDialogScrollToBottom: function() {\n      if (Object.keys(this.currentChatVisitor).length > 0) {\n        this.$nextTick(() => {\n          this.$refs.scroll_chat.scrollTop = this.$refs.scroll_chat.scrollHeight\n        })\n      }\n    },\n    /**\n     * 快捷键发送\n     */\n    handleKeyDown: function(event) {\n      // 获取选定对象\n      let selection = getSelection()\n      // 设置最后光标对象\n      this.lastEditRange = selection.getRangeAt(0)\n      // 回车-->换行\n      if (event.keyCode == 13 && !event.shiftKey) {\n      }\n      // shift+回车-->发送消息\n      if (event.shiftKey && event.keyCode == 13) {\n        // 发送消息的代码\n        this.handleSubmit()\n        event.preventDefault()\n        return false\n      }\n      //ctrl+v 过滤粘贴 复制纯文本\n      if (event.ctrlKey && event.keyCode == 86) {\n        clipboard.writeText(clipboard.readText())\n      }\n    },\n    //取消按键\n    handlekeyUp: function(event) {\n      // 获取选定对象\n      let selection = getSelection()\n      // 设置最后光标对象\n      this.lastEditRange = selection.getRangeAt(0)\n    },\n    /**\n     * 点击编辑器任何位置获取光标对象\n     * 这里有个bug 全选鼠标变成箭头的话无法触发\n     */\n    handleEditorClick: function(event) {\n      // 获取选定对象\n      let selection = getSelection()\n      // 设置最后光标对象\n      this.lastEditRange = selection.getRangeAt(0)\n    },\n    /**\n     * 显示emoji\n     */\n    handleShowEmoji: function() {\n      if (this.emojis.length == 0) {\n        getEmoji({}).then(res => {\n          res.data.forEach((element, index) => {\n            res.data[index].img = element.img.replace(\n              '.gif',\n              '.gif?' + Math.floor(Math.random() * 100 + 1)\n            )\n          })\n          this.emojis = res.data\n        })\n      }\n      this.show_emoji = !this.show_emoji\n    },\n    /**\n     * 添加表情\n     */\n    handleInsertEmoji: function(data) {\n      // 获取编辑框对象\n      let edit = this.$refs.editor\n      // 编辑框设置焦点\n      edit.focus()\n      // 获取选定对象\n      let selection = getSelection()\n\n      // 判断是否有最后光标对象存在\n      if (this.lastEditRange) {\n        // 存在最后光标对象，选定对象清除所有光标并添加最后光标还原之前的状态\n        selection.removeAllRanges()\n        selection.addRange(this.lastEditRange)\n      }\n      // 如果是文本节点则先获取光标对象\n      let range = selection.getRangeAt(0)\n\n      if (range.collapsed) {\n        //判断是textNode对象还是div对象\n        if (selection.anchorNode.nodeName != '#text') {\n          // 如果是编辑框范围。则创建表情文本节点进行插入\n          let textNode = document.createTextNode(data)\n          if (edit.childNodes.length > 0 && edit.innerText.trim() != '') {\n            // 如果文本框的子元素大于0，则表示有其他元素，则按照位置插入表情节点\n            for (let i = 0; i < edit.childNodes.length; i++) {\n              if (edit.childNodes[i] == selection.anchorNode) {\n                edit.childNodes[i].innerHTML = ''\n                edit.childNodes[i].appendChild(textNode)\n              }\n            }\n          } else {\n            // 没内容\n            // 否则直接插入一个表情元素\n            edit.innerHTML = ''\n            edit.appendChild(textNode)\n          }\n\n          // 光标对象的范围界定为新建的表情节点\n          range.selectNodeContents(textNode)\n          // 光标位置定位在表情节点的最大长度\n          range.setStart(textNode, data.length)\n          // 使光标开始和光标结束重叠\n          range.collapse(true)\n          // 清除选定对象的所有光标对象\n          selection.removeAllRanges()\n          // 插入新的光标对象\n          selection.addRange(range)\n        } else {\n          //光标重合\n          // 获取光标对象的范围界定对象，一般就是textNode对象\n          let textNode = range.startContainer\n          // 获取光标位置\n          let rangeStartOffset = range.startOffset\n          // 文本节点在光标位置处插入新的表情内容\n          textNode.insertData(rangeStartOffset, data)\n          // 光标移动到到原来的位置加上新内容的长度\n          range.setStart(textNode, rangeStartOffset + data.length)\n          // 光标开始和光标结束重叠\n          range.collapse(true)\n          // 清除选定对象的所有光标对象\n          selection.removeAllRanges()\n          // 插入新的光标对象\n          selection.addRange(range)\n        }\n      } else {\n        //选中一个区域\n        // 获取光标对象的范围界定对象，一般就是textNode对象\n        let textNode = range.startContainer\n        // 获取光标位置\n        let rangeStartOffset = range.startOffset\n        //替换选中内容\n        document.execCommand('insertText', 'false', data)\n      }\n\n      // // 无论如何都要记录最后光标对象\n      this.lastEditRange = selection.getRangeAt(0)\n      //隐藏表情\n      this.show_emoji = false\n    },\n    /**\n     * 发送\n     */\n    handleSubmit: function() {\n      let that = this\n      //存入对应临时聊天记录\n      let temp_visitor = []\n      let flag = false\n      let one_message = {}\n      let cur_time, timestamp, show_time\n\n      that.visitor_list.forEach((element, index) => {\n        if (\n          element.id == that.currentChatVisitor.id &&\n          element.visitor_status == 'online'\n        ) {\n          cur_time = new Date()\n          timestamp = cur_time.getTime()\n          show_time = false\n          if (element.message.length == 0) {\n            show_time = true\n          } else {\n            if (\n              timestamp -\n                element.message[element.message.length - 1].time.getTime() >\n              6 * 1000\n            ) {\n              show_time = true\n            }\n          }\n          //放入指定对象的聊天消息数组\n          one_message = {\n            type: 'text',\n            content: that.$refs.editor.innerHTML.replace(\n              /(\\[\\/em)([0-9]{2})(\\])/g,\n              '<img src=\"http://lyqq.cn-lianyi.com/public/static/images/emojis/$2.gif?' +\n                Math.floor(Math.random() * 100 + 1) +\n                '\" />'\n            ),\n            time: new Date(),\n            identity: 'service',\n            show_time: show_time\n          }\n          that.visitor_list[index].message.push(one_message)\n\n          temp_visitor = that.visitor_list[index]\n          that.visitor_list.splice(index, 1)\n          flag = true\n        }\n      })\n      if (flag) {\n        that.visitor_list.unshift(temp_visitor)\n        //滚动到底部\n        that.chatDialogScrollToBottom()\n        //发送\n        that.ws.send(\n          JSON.stringify({\n            identity: 'service',\n            type: 'text',\n            visitor_id: that.currentChatVisitor.id,\n            content: that.$refs.editor.innerHTML,\n            nickname: that.nickname,\n            avatar: that.avatar\n          })\n        )\n        //保存聊天记录\n        serviceDesktopIndexAddServiceRecord({\n          visitor_id: that.currentChatVisitor.id,\n          identity: 'service',\n          type: 'text',\n          time: one_message.time.getTime(),\n          record_content: that.$refs.editor.innerHTML\n        }).then(() => {})\n\n        //清空当前游客输入框草稿内容\n        that.currentChatVisitor.temp_text = ''\n        //清空编辑器内容\n        that.$refs.editor.innerHTML = ''\n      }\n    },\n    /**\n     * 打开发送图片对话框\n     */\n    handleOpenImageUploadDialog: function() {\n      let that = this\n      ipcRenderer.send('open-directory-dialog', {\n        properties: ['openFile', 'multiSelections'],\n        filters: [{ name: 'Images', extensions: ['jpg', 'png', 'gif'] }]\n      })\n      ipcRenderer.once('selectedItem', (event, arg) => {\n        // 成功回调\n        // console.log(arg.filePaths)\n        arg.filePaths.forEach((element, index) => {\n          fs.readFile(element, (err, data) => {\n            if (err) {\n              //上传失败\n            } else {\n              let file = new File([data], element.split('/').reverse()[0], {\n                type: 'image/' + element.split('.').reverse()[0]\n              })\n\n              let formdata = new FormData()\n              formdata.append('image', file)\n              //上传图片\n              that.handleUploadChatImage(formdata)\n            }\n          })\n        })\n      })\n    },\n    /**\n     * 上传并发送聊天图片\n     */\n    handleUploadChatImage: function(formdata) {\n      handleUploadChatImage(formdata).then(res => {\n        //上传成功 存入聊天当前聊天对象\n        let url = res.data\n\n        let that = this\n        //存入对应临时聊天记录\n        let temp_visitor = []\n        let flag = false\n        let one_message = {}\n        let cur_time, timestamp, show_time\n\n        that.visitor_list.forEach((element, index) => {\n          if (\n            element.id == that.currentChatVisitor.id &&\n            element.visitor_status == 'online'\n          ) {\n            cur_time = new Date()\n            timestamp = cur_time.getTime()\n            show_time = false\n            if (element.message.length == 0) {\n              show_time = true\n            } else {\n              if (\n                timestamp -\n                  element.message[element.message.length - 1].time.getTime() >\n                6 * 1000\n              ) {\n                show_time = true\n              }\n            }\n            //放入指定对象的聊天消息数组\n            one_message = {\n              type: 'image',\n              content: url,\n              time: new Date(),\n              identity: 'service',\n              show_time: show_time\n            }\n            that.visitor_list[index].message.push(one_message)\n\n            temp_visitor = that.visitor_list[index]\n            that.visitor_list.splice(index, 1)\n            flag = true\n          }\n        })\n        if (flag) {\n          that.visitor_list.unshift(temp_visitor)\n          //滚动到底部\n          that.chatDialogScrollToBottom()\n          //发送\n          that.ws.send(\n            JSON.stringify({\n              identity: 'service',\n              type: 'image',\n              visitor_id: that.currentChatVisitor.id,\n              content: url,\n              nickname: that.nickname,\n              avatar: that.avatar\n            })\n          )\n          //保存聊天记录\n          serviceDesktopIndexAddServiceRecord({\n            visitor_id: that.currentChatVisitor.id,\n            identity: 'service',\n            type: 'image',\n            time: one_message.time.getTime(),\n            record_content: url\n          }).then(() => {})\n        }\n      })\n    },\n    /**\n     * 结束会话\n     */\n    handleClickCloseChat: function() {\n      serviceDesktopIndexCloseChat({\n        visitor_id: this.currentChatVisitor.id\n      }).then(() => {})\n    },\n    /**\n     * 转接会话\n     */\n    handleClickPatchChat: function() {\n      serviceDesktopIndexGetOnlineServiceList().then(res => {\n        if (res.data.length == 0) {\n          //\n          this.$message({\n            message: '当前没有客服在线',\n            type: 'error'\n          })\n        } else {\n          this.online_service_list = res.data\n          this.patchDialog = true\n        }\n      })\n    },\n    /**\n     * 分配当前聊天对象给指定客服\n     */\n    handleClickPatchServiceConfirm: function() {\n      serviceDesktopIndexPatchToVisitor({\n        visitor_id: this.currentChatVisitor.id,\n        patch_service_id: this.patch_service_id,\n        visit_origin: this.currentChatVisitor.visit_origin\n      }).then(res => {\n        //从游客列表删除\n        this.visitor_list.forEach((element, index) => {\n          if (element.id == this.currentChatVisitor.id) {\n            this.visitor_list.splice(index, 1)\n          }\n        })\n        //清空当前聊天对象\n        this.currentChatVisitor = {}\n        //提示转接成功\n        this.$message({\n          message: '转接成功',\n          type: 'success'\n        })\n        //关闭对话框\n        this.patchDialog = false\n      })\n    },\n    /**\n     * 点击历史记录列表\n     */\n    handleClickshowHistoryDialog: function(index) {\n      //设置当前历史对象\n      this.currentHistoryVisitor = this.history_list[index]\n      //滚动到底部\n      // this.chatDialogScrollToBottom()\n    },\n    /**\n     * 切换客服主页右侧常用工具栏\n     */\n    handleClickChangeUseTab: function(index) {\n      this.used_tab_index = index\n    }\n  }\n}\n</script>\n<style scoped lang=\"less\">\n.service_desktop_index {\n  padding: 0;\n  width: 100%;\n  height: 100%;\n  .block {\n    margin-top: 20px;\n  }\n  display: flex;\n\n  //固定开始\n  .patch_dialog {\n    .el-select {\n      width: 100%;\n    }\n  }\n  //固定结束\n\n  .left {\n    width: 300px;\n    min-width: 300px;\n    height: 100%;\n    display: flex;\n    flex-direction: column;\n    justify-content: flex-start;\n    .visitor_tab {\n      width: 100%;\n      display: flex;\n      justify-content: space-between;\n      align-items: center;\n      background: #fafafa;\n      .item {\n        flex: 1;\n        padding: 10px 10px;\n        text-align: center;\n        font-size: 14px;\n        color: @h3c;\n        cursor: pointer;\n        position: relative;\n        &::after {\n          content: '';\n          position: absolute;\n          bottom: 0;\n          left: 0;\n          height: 2px;\n          width: 100%;\n          background: @h6c;\n        }\n      }\n    }\n    .visitor_list,\n    .history_list {\n      flex: 1;\n      background: #fafafa;\n      overflow-y: auto;\n    }\n    .visitor_list {\n      .item {\n        padding: 10px 20px;\n        border-bottom: @border;\n        display: flex;\n        justify-content: space-between;\n        cursor: pointer;\n        &:active {\n          background: @h6c;\n        }\n        .img_box {\n          width: 50px;\n          height: 50px;\n          position: relative;\n          .img {\n            width: 50px;\n            height: 50px;\n            object-fit: cover;\n            border-radius: 4px;\n          }\n          .message_count {\n            position: absolute;\n            right: -10px;\n            top: -10px;\n            padding: 2px;\n            min-width: 14px;\n            min-height: 14px;\n            font-size: 14px;\n            text-align: center;\n            border-radius: 50%;\n            color: #ffffff;\n            background: @red;\n          }\n        }\n        .nickname {\n          margin-left: 10px;\n          font-size: 18px;\n          color: @h1c;\n          flex: 1;\n          min-width: 0;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n          .temp_text {\n            color: @red;\n            font-size: 14px;\n          }\n          .visit_origin_text {\n            font-size: 12px;\n            color: @h3c;\n          }\n        }\n      }\n      .active_item {\n        background: #ececec;\n      }\n      .offline_item {\n        filter: grayscale(100%);\n      }\n    }\n    .history_list {\n      .item {\n        padding: 10px 20px;\n        border-bottom: @border;\n        display: flex;\n        justify-content: space-between;\n        cursor: pointer;\n        &:active {\n          background: @h6c;\n        }\n        .img_box {\n          width: 50px;\n          height: 50px;\n          position: relative;\n          .img {\n            width: 50px;\n            height: 50px;\n            object-fit: cover;\n            border-radius: 4px;\n          }\n        }\n        .nickname {\n          margin-left: 10px;\n          font-size: 18px;\n          color: @h1c;\n          flex: 1;\n          min-width: 0;\n          display: flex;\n          flex-direction: column;\n          justify-content: space-between;\n        }\n      }\n      .active_item {\n        background: #ececec;\n      }\n    }\n  }\n  .middle {\n    flex: 1;\n    min-width: 500px;\n    height: 100%;\n    border-left: @border;\n    border-right: @border;\n    .chat_dialog {\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      align-items: center;\n      height: 100%;\n      .chat_header {\n        width: calc(100% - 40px);\n        padding: 5px 20px;\n        display: flex;\n        justify-content: space-between;\n        background: #304156;\n        .chat_header_left {\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n          justify-content: flex-start;\n          .img_box {\n            margin-right: 10px;\n            width: 50px;\n            height: 50px;\n            .img {\n              width: 50px;\n              height: 50px;\n              border-radius: 50%;\n            }\n          }\n          .nickname {\n            color: #ffffff;\n            font-size: 18px;\n          }\n        }\n        .chat_header_right {\n          display: flex;\n          align-items: center;\n          color: #ffffff;\n          cursor: pointer;\n          .patch_box {\n            display: flex;\n            align-items: center;\n            margin-right: 20px;\n            height: 100%;\n            padding: 0 20px;\n          }\n          .close_box {\n            display: flex;\n            align-items: center;\n            height: 100%;\n            .icon {\n              font-size: 12px;\n            }\n            .close_btn {\n              margin-left: 2px;\n            }\n          }\n        }\n      }\n      .scroll_chat {\n        flex: 1;\n        overflow-x: hidden;\n        overflow-y: auto;\n        width: 100%;\n        .scroll_chat_row {\n          padding: 20px;\n          .time_row {\n            display: flex;\n            justify-content: center;\n            margin-bottom: 10px;\n            .time_row_text {\n              display: inline-block;\n              background: @h6c;\n              padding: 6px;\n              border-radius: 2px;\n              text-align: center;\n            }\n          }\n          .scroll_chat_left,\n          .scroll_chat_right {\n            display: flex;\n            .img_box {\n              width: 50px;\n              height: 50px;\n              .img {\n                width: 50px;\n                height: 50px;\n                border-radius: 50%;\n                object-fit: cover;\n              }\n            }\n            .content {\n              background: @h6c;\n              padding: 20px 20px;\n              border-radius: 4px;\n              position: relative;\n              max-width: 30%;\n              word-wrap: break-word; // 只对英文起作用，以单词作为换行依据\n              &::after {\n                content: '';\n                position: absolute;\n                top: 20px;\n                margin: auto;\n                left: -13px;\n                width: 0;\n                height: 0;\n              }\n            }\n            .chat_img {\n              max-width: 30%;\n              height: auto;\n              display: block;\n            }\n          }\n          .scroll_chat_left {\n            justify-content: flex-start;\n            .content {\n              margin-left: 20px;\n              /deep/ img {\n                width: 30px;\n                height: auto;\n                display: inline-block;\n                margin: 0 2px;\n              }\n              &::after {\n                border-top: 8px solid transparent;\n                border-bottom: 8px solid transparent;\n                border-right: 13px solid @h6c;\n              }\n            }\n            .chat_img {\n              margin-left: 20px;\n            }\n          }\n          .scroll_chat_right {\n            justify-content: flex-end;\n            .content {\n              margin-right: 20px;\n              /deep/ img {\n                width: 30px;\n                height: auto;\n                display: inline-block;\n                margin: 0 2px;\n              }\n              &::after {\n                left: unset;\n                right: -13px;\n                border-top: 8px solid transparent;\n                border-bottom: 8px solid transparent;\n                border-left: 13px solid @h6c;\n              }\n            }\n            .chat_img {\n              margin-right: 20px;\n            }\n          }\n        }\n      }\n      .send_box {\n        width: 100%;\n        .tool_bar {\n          background: #fafafa;\n          border-top: @border;\n          border-bottom: @border;\n          padding: 10px;\n          display: flex;\n          justify-content: flex-start;\n          align-items: center;\n          position: relative;\n          .icon {\n            padding: 10px;\n            cursor: pointer;\n            font-size: 18px;\n          }\n          .emoji_list {\n            position: absolute;\n            border: @border;\n            bottom: 40px;\n            left: 30px;\n            width: 300px;\n            padding: 10px;\n            background: #ffffff;\n            border-radius: 4px;\n            display: flex;\n            flex-wrap: wrap;\n            .emoji_item {\n              width: calc((100% - 20px * 5) / 5);\n              padding: 10px;\n              .img {\n                width: 100%;\n                height: auto;\n                cursor: pointer;\n              }\n            }\n          }\n        }\n        .send_textarea {\n          padding: 10px 10px 0 10px;\n          .textarea {\n            width: 100%;\n            height: 150px;\n            height: 150px;\n            overflow-y: auto;\n          }\n        }\n        .send_btn_box {\n          display: flex;\n          padding: 20px;\n          display: flex;\n          justify-content: flex-end;\n          align-items: center;\n          .tips {\n            color: @h3c;\n          }\n          .send_btn {\n            margin-left: 20px;\n          }\n        }\n      }\n    }\n\n    .history_dialog {\n      display: flex;\n      flex-direction: column;\n      justify-content: space-between;\n      align-items: center;\n      height: 100%;\n      .history_header {\n        width: calc(100% - 40px);\n        padding: 5px 20px;\n        display: flex;\n        justify-content: space-between;\n        background: #304156;\n        .history_header_left {\n          display: flex;\n          flex-direction: row;\n          align-items: center;\n          justify-content: flex-start;\n          .img_box {\n            margin-right: 10px;\n            width: 50px;\n            height: 50px;\n            .img {\n              width: 50px;\n              height: 50px;\n              border-radius: 50%;\n            }\n          }\n          .nickname {\n            color: #ffffff;\n            font-size: 18px;\n          }\n        }\n      }\n      .scroll_history {\n        flex: 1;\n        overflow-x: hidden;\n        overflow-y: auto;\n        width: 100%;\n        .scroll_history_row {\n          padding: 20px;\n          .time_row {\n            display: flex;\n            justify-content: center;\n            margin-bottom: 10px;\n            .time_row_text {\n              display: inline-block;\n              background: @h6c;\n              padding: 6px;\n              border-radius: 2px;\n              text-align: center;\n            }\n          }\n          .scroll_history_left,\n          .scroll_history_right {\n            display: flex;\n            .img_box {\n              width: 50px;\n              height: 50px;\n              .img {\n                width: 50px;\n                height: 50px;\n                border-radius: 50%;\n                object-fit: cover;\n              }\n            }\n            .content {\n              background: @h6c;\n              padding: 20px 20px;\n              border-radius: 4px;\n              position: relative;\n              max-width: 30%;\n              word-wrap: break-word; // 只对英文起作用，以单词作为换行依据\n              &::after {\n                content: '';\n                position: absolute;\n                top: 20px;\n                margin: auto;\n                left: -13px;\n                width: 0;\n                height: 0;\n              }\n            }\n            .chat_img {\n              max-width: 30%;\n              height: auto;\n              display: block;\n            }\n          }\n          .scroll_history_left {\n            justify-content: flex-start;\n            .content {\n              margin-left: 20px;\n              /deep/ img {\n                width: 30px;\n                height: auto;\n                display: inline-block;\n                margin: 0 2px;\n              }\n              &::after {\n                border-top: 8px solid transparent;\n                border-bottom: 8px solid transparent;\n                border-right: 13px solid @h6c;\n              }\n            }\n            .chat_img {\n              margin-left: 20px;\n            }\n          }\n          .scroll_history_right {\n            justify-content: flex-end;\n            .content {\n              margin-right: 20px;\n              /deep/ img {\n                width: 30px;\n                height: auto;\n                display: inline-block;\n                margin: 0 2px;\n              }\n              &::after {\n                left: unset;\n                right: -13px;\n                border-top: 8px solid transparent;\n                border-bottom: 8px solid transparent;\n                border-left: 13px solid @h6c;\n              }\n            }\n            .chat_img {\n              margin-right: 20px;\n            }\n          }\n        }\n      }\n    }\n  }\n  .right {\n    min-width: 500px;\n    height: 100%;\n    .used_tab {\n      display: flex;\n      align-items: center;\n      justify-content: space-between;\n      background: #fafafa;\n      .item {\n        flex: 1;\n        font-size: 16px;\n        font-weight: bold;\n        color: @h1c;\n        padding: 10px;\n        text-align: center;\n        cursor: pointer;\n      }\n      .active {\n        color: #ffffff;\n      }\n    }\n  }\n}\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./service_desktop_index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./service_desktop_index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./service_desktop_index.vue?vue&type=template&id=75f43c3a&scoped=true&\"\nimport script from \"./service_desktop_index.vue?vue&type=script&lang=js&\"\nexport * from \"./service_desktop_index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./service_desktop_index.vue?vue&type=style&index=0&id=75f43c3a&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"75f43c3a\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}