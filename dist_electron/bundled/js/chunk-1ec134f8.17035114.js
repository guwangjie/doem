(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1ec134f8"],{"0618":function(e,t,r){"use strict";var a=r("ac83");e.exports=function(){var e=a(this),t="";return e.global&&(t+="g"),e.ignoreCase&&(t+="i"),e.multiline&&(t+="m"),e.dotAll&&(t+="s"),e.unicode&&(t+="u"),e.sticky&&(t+="y"),t}},"18b2":function(e,t,r){"use strict";r.d(t,"c",(function(){return n})),r.d(t,"d",(function(){return i})),r.d(t,"a",(function(){return o})),r.d(t,"f",(function(){return s})),r.d(t,"b",(function(){return l})),r.d(t,"e",(function(){return c}));var a=r("b775");function n(e){return Object(a["a"])({url:"/worker_manage/workerCheckLst",method:"get",params:e})}function i(){return Object(a["a"])({url:"/worker_manage/workerCheckLstAll",method:"get"})}function o(e){return Object(a["a"])({url:"/worker_manage/workerCheckDetail",method:"get",params:e})}function s(e){return Object(a["a"])({url:"/worker_manage/workerCheckPass",method:"post",data:e})}function l(e){return Object(a["a"])({url:"/worker_manage/workerCheckDisabled",method:"post",data:e})}function c(e){return Object(a["a"])({url:"/worker_manage/workerCheckNoPass",method:"post",data:e})}},"675a":function(e,t,r){"use strict";var a=r("def4"),n=r.n(a);n.a},7267:function(e,t,r){"use strict";var a=r("3d8a"),n=r("ac83"),i=r("f30e"),o=r("0618"),s="toString",l=RegExp.prototype,c=l[s],u=i((function(){return"/a/b"!=c.call({source:"a",flags:"b"})})),d=c.name!=s;(u||d)&&a(RegExp.prototype,s,(function(){var e=n(this),t=String(e.source),r=e.flags,a=String(void 0===r&&e instanceof RegExp&&!("flags"in l)?o.call(e):r);return"/"+t+"/"+a}),{unsafe:!0})},cb18:function(e,t,r){"use strict";r.r(t);var a=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"app-container worker_check_lst"},[r("div",{staticClass:"opt_head"},[r("el-button",{attrs:{type:"success",icon:"el-icon-download"},nativeOn:{click:function(t){return e.exportXlsx(t)}}},[e._v("excel")]),r("el-button",{attrs:{type:"success",icon:"el-icon-download"},nativeOn:{click:function(t){return e.exportXlsxAll(t)}}},[e._v("全部")])],1),r("el-form",{staticClass:"demo-form-inline block",attrs:{inline:!0}},[r("el-form-item",[r("el-input",{attrs:{placeholder:"姓名"},model:{value:e.params.name,callback:function(t){e.$set(e.params,"name",t)},expression:"params.name"}})],1),r("el-form-item",[r("el-input",{attrs:{placeholder:"电话"},model:{value:e.params.phone,callback:function(t){e.$set(e.params,"phone",t)},expression:"params.phone"}})],1),r("el-form-item",[r("el-input",{attrs:{placeholder:"工号"},model:{value:e.params.worker_no,callback:function(t){e.$set(e.params,"worker_no",t)},expression:"params.worker_no"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary",icon:"el-icon-search"},nativeOn:{click:function(t){return e.onSubmit(t)}}},[e._v("查询")])],1),r("el-form-item",[r("el-button",{attrs:{type:"info",icon:"el-icon-refresh-left"},nativeOn:{click:function(t){return e.onReset(t)}}},[e._v("重置")])],1)],1),r("el-table",{attrs:{data:e.List,border:""}},[e._l(e.listKey,(function(t,a){return r("el-table-column",{key:a,attrs:{label:t.title,"min-width":"150","show-overflow-tooltip":""},scopedSlots:e._u([{key:"default",fn:function(a){return[r("span",[e._v(e._s(a.row[t.dataIndex]))])]}}],null,!0)})})),r("el-table-column",{attrs:{label:"操作",fixed:"right",width:"360"},scopedSlots:e._u([{key:"default",fn:function(t){return[r("el-button",{attrs:{size:"mini",icon:"el-icon-view",type:"primary"},on:{click:function(r){return e.handleDetail(t.$index,t.row)}}},[e._v("详情")]),r("el-button",{attrs:{size:"mini",icon:"el-icon-check",type:"success"},on:{click:function(r){return e.handlePass(t.$index,t.row)}}},[e._v("通过")]),r("el-button",{attrs:{size:"mini",icon:"el-icon-refresh-left",type:"warning"},on:{click:function(r){return e.handleBack(t.$index,t.row)}}},[e._v("驳回")]),r("el-button",{attrs:{size:"mini",icon:"el-icon-minus",type:"danger"},on:{click:function(r){return e.handleDisabled(t.$index,t.row)}}},[e._v("禁用")])]}}])})],2),r("div",{staticClass:"block"},[r("el-pagination",{attrs:{"current-page":e.params.page,total:e.params.total,"page-sizes":[10,20,50,100],"page-size":e.params.pageSize,background:"",layout:"total, sizes, prev, pager, next, jumper"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),r("el-dialog",{attrs:{title:"填写驳回原因",visible:e.dialogFormVisible},on:{"update:visible":function(t){e.dialogFormVisible=t}}},[r("el-row",{attrs:{type:"flex",justify:"center"}},[r("el-col",{attrs:{xs:24,md:24}},[r("el-form",{ref:"ruleForm",attrs:{rules:e.rules,model:e.ruleForm,"label-position":"right","label-width":"150px"}},[r("el-form-item",{attrs:{label:"驳回类型",prop:"reason_type"}},[r("el-select",{attrs:{placeholder:"请选择驳回类型"},model:{value:e.ruleForm.reason_type,callback:function(t){e.$set(e.ruleForm,"reason_type",t)},expression:"ruleForm.reason_type"}},[r("el-option",{attrs:{label:"服务工种或服务区域审核未通过",value:"1"}}),r("el-option",{attrs:{label:"实名认证信息审核未通过（包含头像与真实姓名）",value:"2"}})],1)],1),r("el-form-item",{attrs:{label:"详细原因",prop:"reason_text"}},[r("el-input",{attrs:{type:"textarea",placeholder:"请填写详细原因",maxlength:"18","show-word-limit":"",resize:"none"},model:{value:e.ruleForm.reason_text,callback:function(t){e.$set(e.ruleForm,"reason_text",t)},expression:"ruleForm.reason_text"}})],1),r("el-form-item",[r("el-button",{attrs:{type:"primary"},on:{click:function(t){return e.submitForm("ruleForm")}}},[e._v("确定")]),r("el-button",{on:{click:function(t){return e.resetForm("ruleForm")}}},[e._v("重置")])],1)],1)],1)],1)],1)],1)},n=[],i=(r("c1b0"),r("7267"),r("18b2")),o={name:"WorkerCheckLst",data(){return{List:[],listKey:[{title:"编号",dataIndex:"id"},{title:"工号",dataIndex:"worker_no"},{title:"姓名",dataIndex:"name"},{title:"电话",dataIndex:"phone"},{title:"服务区域",dataIndex:"worker_add_service_area"},{title:"服务工种",dataIndex:"worker_add_service_gz_category"},{title:"申请时间",dataIndex:"create_time"},{title:"团队(人)",dataIndex:"team_num"},{title:"车辆信息",dataIndex:"car_info"},{title:"所在地区",dataIndex:"area"},{title:"保证金",dataIndex:"apply_signing_money"}],params:{page:1,total:0,pageSize:10,name:"",phone:"",worker_no:""},dialogFormVisible:!1,ruleForm:{reason_type:"",reason_text:"",id:null},rules:{reason_type:[{required:!0,message:"请选择驳回类型",trigger:"blur"}],reason_text:[{required:!0,message:"请输入详细原因",trigger:"blur"}]}}},mounted(){this.getWorkerCheckLst()},methods:{getWorkerCheckLst(){Object(i["c"])(this.params).then(e=>{this.List=e.data.data,this.params.total=e.data.total}).catch(()=>{})},handleSizeChange(e){this.params.pageSize=e,this.getWorkerCheckLst()},handleCurrentChange(e){this.params.page=e,this.getWorkerCheckLst()},onSubmit(){this.params.page=1,this.params.pageSize=10,this.getWorkerCheckLst()},onReset(){this.params={page:1,total:0,pageSize:10,name:"",phone:"",worker_no:""},this.getWorkerCheckLst()},exportXlsx:function(){var e=[],t={},r={header:[]};this.listKey.forEach((e,r)=>{var a=String.fromCharCode(r+65).toString();t[a]=e.title}),e.push(t),this.List.forEach((r,a)=>{t={},this.listKey.forEach((e,a)=>{var n=String.fromCharCode(a+65).toString();t[n]=r[e.dataIndex]}),e.push(t)}),r.skipHeader=!0,this.$xlsx.outputXlsxFile(e,r,"工人审核列表")},exportXlsxAll:function(){Object(i["d"])().then(e=>{var t=e.data,r=[],a={},n={header:[]};this.listKey.forEach((e,t)=>{var r=String.fromCharCode(t+65).toString();a[r]=e.title}),r.push(a),t.forEach((e,t)=>{a={},this.listKey.forEach((t,r)=>{var n=String.fromCharCode(r+65).toString();a[n]=e[t.dataIndex]}),r.push(a)}),n.skipHeader=!0,this.$xlsx.outputXlsxFile(r,n,"全部工人审核列表")}).catch(()=>{})},handleDetail(e,t){this.$router.push({path:"/worker_manage/worker_check/worker_check_detail",query:{id:t.id}})},handlePass(e,t){Object(i["f"])({id:t.id}).then(t=>{this.List.splice(e,1),this.$message({message:"操作成功",type:"success"})})},handleBack(e,t){this.dialogFormVisible=!0,this.ruleForm.id=t.id},submitForm(e){this.$refs[e].validate(e=>{if(!e)return!1;Object(i["e"])(this.ruleForm).then(e=>{this.$message({message:"操作成功",type:"success"}),this.dialogFormVisible=!1}).catch(()=>{})})},resetForm(e){this.$refs[e].resetFields()},handleDisabled(e,t){Object(i["b"])({id:t.id}).then(t=>{this.List.splice(e,1),this.$message({message:"操作成功",type:"success"})})}}},s=o,l=(r("675a"),r("e90a")),c=Object(l["a"])(s,a,n,!1,null,"590a3d76",null);t["default"]=c.exports},def4:function(e,t,r){}}]);
//# sourceMappingURL=chunk-1ec134f8.17035114.js.map