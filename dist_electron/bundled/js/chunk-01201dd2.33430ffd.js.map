{"version":3,"sources":["webpack:///./node_modules/_@babel_runtime@7.9.2@@babel/runtime/helpers/esm/asyncToGenerator.js","webpack:///./node_modules/_core-js@3.6.4@core-js/modules/es.object.to-string.js","webpack:///./node_modules/_core-js@3.6.4@core-js/internals/object-to-string.js","webpack:///./src/views/permission/permission_src/permission_src_edit.vue?55df","webpack:///src/views/permission/permission_src/permission_src_edit.vue","webpack:///./src/views/permission/permission_src/permission_src_edit.vue?b173","webpack:///./src/views/permission/permission_src/permission_src_edit.vue","webpack:///./src/views/permission/permission_src/permission_src_edit.vue?6d73","webpack:///./src/api/permission/permission_src.js"],"names":["asyncGeneratorStep","gen","resolve","reject","_next","_throw","key","arg","info","value","error","done","Promise","then","_asyncToGenerator","fn","self","this","args","arguments","apply","err","undefined","TO_STRING_TAG_SUPPORT","redefine","toString","Object","prototype","unsafe","classof","module","exports","render","_vm","_h","$createElement","_c","_self","staticClass","attrs","ref","rules","ruleForm","model","callback","$$v","$set","expression","_l","item","id","title","permissionrules","permissionForm","on","getPermissionActionOptions","name","$event","submitPermissionForm","_v","permissionCode","scopedSlots","_u","scope","handleDelete","$index","row","submitForm","resetForm","staticRenderFns","parent_id","$route","query","controller","action","options","controllerOptions","actionOptions","methods","formName","$refs","validate","valid","forEach","index","$message","message","type","Error","push","controller_name","action_name","splice","resetFields","component","permissionControllerOptions","request","url","method","permissionActionOptions","params","permissionSrcOptions","permissionSrcAdd","data","permissionSrcEdit","permissionSrcLst","permissionSrcDetail","permissionSrcDelete"],"mappings":"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","file":"js/chunk-01201dd2.33430ffd.js","sourcesContent":["function asyncGeneratorStep(gen, resolve, reject, _next, _throw, key, arg) {\n  try {\n    var info = gen[key](arg);\n    var value = info.value;\n  } catch (error) {\n    reject(error);\n    return;\n  }\n\n  if (info.done) {\n    resolve(value);\n  } else {\n    Promise.resolve(value).then(_next, _throw);\n  }\n}\n\nexport default function _asyncToGenerator(fn) {\n  return function () {\n    var self = this,\n        args = arguments;\n    return new Promise(function (resolve, reject) {\n      var gen = fn.apply(self, args);\n\n      function _next(value) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"next\", value);\n      }\n\n      function _throw(err) {\n        asyncGeneratorStep(gen, resolve, reject, _next, _throw, \"throw\", err);\n      }\n\n      _next(undefined);\n    });\n  };\n}","var TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar redefine = require('../internals/redefine');\nvar toString = require('../internals/object-to-string');\n\n// `Object.prototype.toString` method\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nif (!TO_STRING_TAG_SUPPORT) {\n  redefine(Object.prototype, 'toString', toString, { unsafe: true });\n}\n","'use strict';\nvar TO_STRING_TAG_SUPPORT = require('../internals/to-string-tag-support');\nvar classof = require('../internals/classof');\n\n// `Object.prototype.toString` method implementation\n// https://tc39.github.io/ecma262/#sec-object.prototype.tostring\nmodule.exports = TO_STRING_TAG_SUPPORT ? {}.toString : function toString() {\n  return '[object ' + classof(this) + ']';\n};\n","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"app-container permission_src_edit\"},[_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-col',{attrs:{\"xs\":24,\"md\":12}},[_c('el-form',{ref:\"ruleForm\",attrs:{\"rules\":_vm.rules,\"model\":_vm.ruleForm,\"label-position\":\"right\",\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"分组或者操作名称\",\"prop\":\"title\"}},[_c('el-input',{attrs:{\"placeholder\":\"分组或者操作名称\"},model:{value:(_vm.ruleForm.title),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"title\", $$v)},expression:\"ruleForm.title\"}})],1),_c('el-form-item',{attrs:{\"label\":\"上级分组\",\"prop\":\"parent_id\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.ruleForm.parent_id),callback:function ($$v) {_vm.$set(_vm.ruleForm, \"parent_id\", $$v)},expression:\"ruleForm.parent_id\"}},_vm._l((_vm.options),function(item){return _c('el-option',{key:item.id,attrs:{\"label\":item.title,\"value\":item.id}})}),1)],1)],1),_c('el-form',{ref:\"permissionForm\",attrs:{\"rules\":_vm.permissionrules,\"model\":_vm.permissionForm,\"label-position\":\"right\",\"label-width\":\"150px\"}},[_c('el-form-item',{attrs:{\"label\":\"控制器\",\"prop\":\"controller\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},on:{\"change\":_vm.getPermissionActionOptions},model:{value:(_vm.permissionForm.controller),callback:function ($$v) {_vm.$set(_vm.permissionForm, \"controller\", $$v)},expression:\"permissionForm.controller\"}},_vm._l((_vm.controllerOptions),function(item){return _c('el-option',{key:item.name,attrs:{\"label\":item.name,\"value\":item.value}})}),1)],1),_c('el-form-item',{attrs:{\"label\":\"操作\",\"prop\":\"action\"}},[_c('el-select',{attrs:{\"placeholder\":\"请选择\"},model:{value:(_vm.permissionForm.action),callback:function ($$v) {_vm.$set(_vm.permissionForm, \"action\", $$v)},expression:\"permissionForm.action\"}},_vm._l((_vm.actionOptions),function(item){return _c('el-option',{key:item.name,attrs:{\"label\":item.name,\"value\":item.value}})}),1)],1),_c('el-form-item',[_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":function($event){return _vm.submitPermissionForm('permissionForm')}}},[_vm._v(\"添加权限码\")])],1)],1),_c('el-row',{attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-table',{attrs:{\"data\":_vm.ruleForm.permissionCode,\"border\":\"\"}},[_c('el-table-column',{attrs:{\"prop\":\"controller_name\",\"label\":\"控制器名\"}}),_c('el-table-column',{attrs:{\"prop\":\"action_name\",\"label\":\"方法名\"}}),_c('el-table-column',{attrs:{\"label\":\"操作\"},scopedSlots:_vm._u([{key:\"default\",fn:function(scope){return [_c('el-button',{attrs:{\"size\":\"mini\",\"icon\":\"el-icon-delete\",\"type\":\"danger\"},on:{\"click\":function($event){return _vm.handleDelete(scope.$index, scope.row)}}},[_vm._v(\"删除\")])]}}])})],1)],1),_c('el-row',{staticClass:\"block\",attrs:{\"type\":\"flex\",\"justify\":\"center\"}},[_c('el-button',{attrs:{\"type\":\"success\"},on:{\"click\":function($event){return _vm.submitForm('ruleForm')}}},[_vm._v(\"保存\")]),_c('el-button',{on:{\"click\":function($event){return _vm.resetForm('ruleForm')}}},[_vm._v(\"重置\")])],1)],1)],1)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div class=\"app-container permission_src_edit\">\n    <el-row type=\"flex\" justify=\"center\">\n      <el-col :xs=\"24\" :md=\"12\">\n        <el-form\n          ref=\"ruleForm\"\n          :rules=\"rules\"\n          :model=\"ruleForm\"\n          label-position=\"right\"\n          label-width=\"150px\"\n        >\n          <el-form-item label=\"分组或者操作名称\" prop=\"title\">\n            <el-input v-model=\"ruleForm.title\" placeholder=\"分组或者操作名称\" />\n          </el-form-item>\n          <el-form-item label=\"上级分组\" prop=\"parent_id\">\n            <el-select v-model=\"ruleForm.parent_id\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in options\"\n                :key=\"item.id\"\n                :label=\"item.title\"\n                :value=\"item.id\"\n              />\n            </el-select>\n          </el-form-item>\n        </el-form>\n        <el-form\n          ref=\"permissionForm\"\n          :rules=\"permissionrules\"\n          :model=\"permissionForm\"\n          label-position=\"right\"\n          label-width=\"150px\"\n        >\n          <el-form-item label=\"控制器\" prop=\"controller\">\n            <el-select\n              v-model=\"permissionForm.controller\"\n              placeholder=\"请选择\"\n              @change=\"getPermissionActionOptions\"\n            >\n              <el-option\n                v-for=\"item in controllerOptions\"\n                :key=\"item.name\"\n                :label=\"item.name\"\n                :value=\"item.value\"\n              />\n            </el-select>\n          </el-form-item>\n          <el-form-item label=\"操作\" prop=\"action\">\n            <el-select v-model=\"permissionForm.action\" placeholder=\"请选择\">\n              <el-option\n                v-for=\"item in actionOptions\"\n                :key=\"item.name\"\n                :label=\"item.name\"\n                :value=\"item.value\"\n              />\n            </el-select>\n          </el-form-item>\n          <el-form-item>\n            <el-button\n              type=\"primary\"\n              @click=\"submitPermissionForm('permissionForm')\"\n              >添加权限码</el-button\n            >\n          </el-form-item>\n        </el-form>\n        <el-row type=\"flex\" justify=\"center\">\n          <el-table :data=\"ruleForm.permissionCode\" border>\n            <el-table-column prop=\"controller_name\" label=\"控制器名\" />\n            <el-table-column prop=\"action_name\" label=\"方法名\" />\n            <el-table-column label=\"操作\">\n              <template slot-scope=\"scope\">\n                <el-button\n                  size=\"mini\"\n                  icon=\"el-icon-delete\"\n                  type=\"danger\"\n                  @click=\"handleDelete(scope.$index, scope.row)\"\n                  >删除</el-button\n                >\n              </template>\n            </el-table-column>\n          </el-table>\n        </el-row>\n        <el-row type=\"flex\" justify=\"center\" class=\"block\">\n          <el-button type=\"success\" @click=\"submitForm('ruleForm')\"\n            >保存</el-button\n          >\n          <el-button @click=\"resetForm('ruleForm')\">重置</el-button>\n        </el-row>\n      </el-col>\n    </el-row>\n  </div>\n</template>\n<script>\nimport {\n  permissionSrcDetail,\n  permissionSrcEdit,\n  permissionSrcOptions,\n  permissionControllerOptions,\n  permissionActionOptions\n} from '@/api/permission/permission_src'\nexport default {\n  name: 'PermissionSrcEdit',\n  data() {\n    return {\n      ruleForm: {\n        title: '',\n        parent_id: '',\n        permissionCode: [],\n        id: this.$route.query.id\n      },\n      permissionForm: {\n        controller: '',\n        action: ''\n      },\n      options: [\n        {\n          title: '请选择',\n          id: ''\n        },\n        {\n          title: '顶级分组',\n          id: 0\n        }\n      ],\n      controllerOptions: [\n        {\n          name: '请选择',\n          value: ''\n        }\n      ],\n      actionOptions: [\n        {\n          name: '请选择',\n          value: ''\n        }\n      ],\n      rules: {\n        title: [\n          { required: true, message: '分组或者操作名称', trigger: 'blur' },\n          { min: 2, max: 10, message: '长度在 2 到 10 个字符', trigger: 'blur' }\n        ],\n        parent_id: [\n          { required: true, message: '请选择上级分组', trigger: 'change' }\n        ]\n      },\n      permissionrules: {\n        controller: [\n          { required: true, message: '请选择控制器', trigger: 'change' }\n        ],\n        action: [{ required: true, message: '请选择操作', trigger: 'change' }]\n      }\n    }\n  },\n  async mounted() {\n    try {\n      await this.getOptions()\n      await this.getPermissionControllerOptions()\n      await this.getPermissionSrcDetail()\n    } catch (e) {}\n  },\n  methods: {\n    getOptions() {\n      return permissionSrcOptions({ id: this.ruleForm.id })\n        .then(res => {\n          this.options = this.options.concat(res.data)\n        })\n        .catch(() => {})\n    },\n    getPermissionControllerOptions() {\n      return permissionControllerOptions()\n        .then(res => {\n          this.controllerOptions = this.controllerOptions.concat(res.data)\n        })\n        .catch(() => {})\n    },\n    getPermissionSrcDetail() {\n      return permissionSrcDetail({ id: this.ruleForm.id })\n        .then(res => {\n          this.ruleForm = res.data\n        })\n        .catch(() => {})\n    },\n    getPermissionActionOptions(value) {\n      if (value === '') {\n        this.permissionForm.action = ''\n        this.actionOptions = [\n          {\n            name: '请选择',\n            value: ''\n          }\n        ]\n        return\n      }\n      permissionActionOptions({ controller: value })\n        .then(res => {\n          this.actionOptions = [\n            {\n              name: '请选择',\n              value: ''\n            }\n          ].concat(res.data)\n          this.permissionForm.action = ''\n        })\n        .catch(() => {})\n    },\n    submitPermissionForm(formName) {\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          try {\n            this.ruleForm.permissionCode.forEach((value, index) => {\n              // 已存在则提示\n              if (\n                value.controller_name === this.permissionForm.controller &&\n                value.action_name === this.permissionForm.action\n              ) {\n                this.$message({\n                  message: '该权限码已存在',\n                  type: 'error'\n                })\n                throw new Error('该权限码已存在')\n              }\n            })\n          } catch (e) {\n            return false\n          }\n          this.ruleForm.permissionCode.push({\n            controller_name: this.permissionForm.controller,\n            action_name: this.permissionForm.action\n          })\n        } else {\n          // console.log('error submit!!')\n          return false\n        }\n      })\n    },\n    handleDelete(index, row) {\n      this.ruleForm.permissionCode.splice(index, 1)\n    },\n    submitForm(formName) {\n      const _this = this\n      this.$refs[formName].validate(valid => {\n        if (valid) {\n          permissionSrcEdit(this.ruleForm)\n            .then(res => {\n              this.$message({\n                message: '保存成功',\n                type: 'success',\n                onClose: function() {\n                  _this.$router.push(\n                    '/permission/permission_src/permission_src_lst'\n                  )\n                }\n              })\n            })\n            .catch(() => {})\n        } else {\n          // console.log('error submit!!')\n          return false\n        }\n      })\n    },\n    resetForm(formName) {\n      this.$refs[formName].resetFields()\n    }\n  }\n}\n</script>\n<style scoped>\n.permission_src_edit .block {\n  margin-top: 20px;\n}\n</style>\n","import mod from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./permission_src_edit.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/_thread-loader@2.1.3@thread-loader/dist/cjs.js!../../../../node_modules/_babel-loader@8.1.0@babel-loader/lib/index.js!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./permission_src_edit.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./permission_src_edit.vue?vue&type=template&id=4663362b&scoped=true&\"\nimport script from \"./permission_src_edit.vue?vue&type=script&lang=js&\"\nexport * from \"./permission_src_edit.vue?vue&type=script&lang=js&\"\nimport style0 from \"./permission_src_edit.vue?vue&type=style&index=0&id=4663362b&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4663362b\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./permission_src_edit.vue?vue&type=style&index=0&id=4663362b&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../../node_modules/_mini-css-extract-plugin@0.9.0@mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../../node_modules/_css-loader@3.4.2@css-loader/dist/cjs.js??ref--6-oneOf-1-1!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/_postcss-loader@3.0.0@postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../../node_modules/_cache-loader@4.1.0@cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/_vue-loader@15.9.1@vue-loader/lib/index.js??vue-loader-options!./permission_src_edit.vue?vue&type=style&index=0&id=4663362b&scoped=true&lang=css&\"","import request from '@/utils/request'\n\nexport function permissionControllerOptions() {\n  return request({\n    url: '/permission/permissionControllerOptions',\n    method: 'get'\n  })\n}\n\nexport function permissionActionOptions(params) {\n  return request({\n    url: '/permission/permissionActionOptions',\n    method: 'get',\n    params: params\n  })\n}\n\nexport function permissionSrcOptions(params) {\n  return request({\n    url: '/permission/permissionSrcOptions',\n    method: 'get',\n    params: params\n  })\n}\n\nexport function permissionSrcAdd(ruleForm) {\n  return request({\n    url: '/permission/permissionSrcAdd',\n    method: 'post',\n    data: ruleForm\n  })\n}\n\nexport function permissionSrcEdit(ruleForm) {\n  return request({\n    url: '/permission/permissionSrcEdit',\n    method: 'post',\n    data: ruleForm\n  })\n}\n\nexport function permissionSrcLst() {\n  return request({\n    url: '/permission/permissionSrcLst',\n    method: 'get'\n  })\n}\n\nexport function permissionSrcDetail(params) {\n  return request({\n    url: '/permission/permissionSrcDetail',\n    method: 'get',\n    params: params\n  })\n}\n\nexport function permissionSrcDelete(params) {\n  return request({\n    url: '/permission/permissionSrcDelete',\n    method: 'get',\n    params: params\n  })\n}\n"],"sourceRoot":""}